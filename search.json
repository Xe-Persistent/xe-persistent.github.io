[{"title":"å¦‚ä½•é‡æ„if-elseå†™å‡ºä¼˜é›…é«˜æ•ˆä»£ç ","url":"/posts/14d0abf73d03.html","content":"# ä¸ºä»€ä¹ˆæˆ‘ä»¬å†™çš„ä»£ç éƒ½æ˜¯if-elseï¼Ÿ\nç¨‹åºå‘˜æƒ³å¿…éƒ½ç»å†è¿‡è¿™æ ·çš„åœºæ™¯ï¼šåˆšå¼€å§‹è‡ªå·±å†™çš„ä»£ç å¾ˆç®€æ´ï¼Œé€»è¾‘æ¸…æ™°ï¼Œå‡½æ•°ç²¾ç®€ï¼Œæ²¡æœ‰ä¸€ä¸ª`if-else`ã€‚å¯éšç€ä»£ç é€»è¾‘ä¸æ–­å®Œå–„å’Œä¸šåŠ¡çš„ç¬æ¯ä¸‡å˜ï¼Œæ¯”å¦‚éœ€è¦å¯¹å…¥å‚è¿›è¡Œç±»å‹å’Œå€¼è¿›è¡Œåˆ¤æ–­ï¼›è¿™é‡Œè¦åˆ¤æ–­ä¸‹å­—æ®µæ˜¯å¦ä¸º`null`ï¼›ä¸åŒç±»å‹æ‰§è¡Œä¸åŒçš„æµç¨‹ï¼Œè½åœ°åˆ°å…·ä½“å®ç°åªèƒ½ä¸åœåœ°åŠ `if-else`æ¥å¤„ç†ã€‚æ¸æ¸åœ°ï¼Œä»£ç å˜å¾—è¶Šæ¥è¶Šåºå¤§ï¼Œå‡½æ•°è¶Šæ¥è¶Šé•¿ï¼Œä»£ç è¡Œæ•°ä¹Ÿè¿…é€Ÿçªç ´ä¸Šåƒè¡Œï¼Œç»´æŠ¤éš¾åº¦ä¹Ÿè¶Šæ¥è¶Šå¤§ï¼Œåˆ°åæœŸåŸºæœ¬è¾¾åˆ°ä¸€ç§éš¾ä»¥ç»´æŠ¤çš„çŠ¶æ€ã€‚\n\n**è™½ç„¶æˆ‘ä»¬éƒ½å¾ˆä¸æƒ…æ„¿å†™å‡ºæ»¡å±`if-else`çš„ä»£ç ï¼Œå¯é€»è¾‘ä¸Šå°±æ˜¯éœ€è¦ç‰¹æ®Šåˆ¤æ–­ï¼Œå¾ˆç»æœ›ï¼Œå¯ä¹Ÿæ²¡åŠæ³•é¿å…å•Šã€‚**\n\nå…¶å®å›å¤´çœ‹çœ‹è‡ªå·±çš„ä»£ç ï¼Œå†™`if-else`æ— å¤–ä¹ä¸¤ç§åœºæ™¯ï¼š**å¼‚å¸¸é€»è¾‘å¤„ç†å’Œä¸åŒçŠ¶æ€å¤„ç†ã€‚**\n\nä¸¤è€…æœ€ä¸»è¦çš„åŒºåˆ«æ˜¯ï¼š**å¼‚å¸¸é€»è¾‘å¤„ç†è¯´æ˜åªèƒ½ä¸€ä¸ªåˆ†æ”¯æ˜¯æ­£å¸¸æµç¨‹ï¼Œè€Œä¸åŒçŠ¶æ€å¤„ç†éƒ½æ‰€æœ‰åˆ†æ”¯éƒ½æ˜¯æ­£å¸¸æµç¨‹ã€‚**\n\n## ä»£ç if-elseä»£ç å¤ªå¤šæœ‰ä»€ä¹ˆç¼ºç‚¹ï¼Ÿ\nç¼ºç‚¹ç›¸å½“æ˜æ˜¾äº†ï¼š\n\n1. æœ€å¤§çš„é—®é¢˜æ˜¯ä»£ç é€»è¾‘å¤æ‚ï¼Œç»´æŠ¤æ€§å·®ï¼Œæå®¹æ˜“å¼•å‘bugã€‚\n2. å¦‚æœä½¿ç”¨`if-else`ï¼Œè¯´æ˜`if`åˆ†æ”¯å’Œ`else`åˆ†æ”¯çš„é‡è§†æ˜¯åŒç­‰çš„ï¼Œä½†å¤§å¤šæ•°æƒ…å†µå¹¶éå¦‚æ­¤ï¼Œå®¹æ˜“å¼•èµ·è¯¯è§£å’Œç†è§£å›°éš¾ã€‚\n\n## æ˜¯å¦æœ‰å¥½çš„æ–¹æ³•ä¼˜åŒ–ï¼Ÿå¦‚ä½•é‡æ„ï¼Ÿ\næ–¹æ³•è‚¯å®šæ˜¯æœ‰çš„ã€‚é‡æ„`if-else`æ—¶ï¼Œå¿ƒä¸­æ¯æ—¶æ¯åˆ»æŠŠæ¡ä¸€ä¸ªåŸåˆ™ï¼š\n\n**å°½å¯èƒ½åœ°ç»´æŒæ­£å¸¸æµç¨‹ä»£ç åœ¨æœ€å¤–å±‚ã€‚**\n\næ„æ€æ˜¯è¯´ï¼Œå¯ä»¥å†™`if-else`è¯­å¥æ—¶ä¸€å®šè¦å°½é‡ä¿æŒä¸»å¹²ä»£ç æ˜¯æ­£å¸¸æµç¨‹ï¼Œé¿å…åµŒå¥—è¿‡æ·±ã€‚\n\næ€ä¹ˆç†è§£ï¼Ÿä¸¾ä¸¤ä¸ªä¾‹å­ï¼š\n\n> ä¸¾ä¾‹ä¸€ï¼šå¼‚å¸¸é€»è¾‘å¤„ç†\n\n```java\nObject obj = getObj();\nif (obj != null) {\n    // do something\n} else {\n    // do something\n}\n```\n\n> ä¸¾ä¾‹äºŒï¼šçŠ¶æ€å¤„ç†\n\n```java\nObject obj = getObj();\nif (obj.getType == 1) {\n    // do something\n} else if (obj.getType == 2) {\n    // do something\n} else {\n    // do something\n}\n```\n\nç¬¬ä¸€ä¸ªä¾‹å­`if (obj != null)`æ˜¯å¼‚å¸¸å¤„ç†ï¼Œæ˜¯ä»£ç å¥å£®æ€§åˆ¤æ–­ï¼Œåªæœ‰`if`é‡Œé¢æ‰æ˜¯æ­£å¸¸çš„å¤„ç†æµç¨‹ï¼Œ`else`åˆ†æ”¯æ˜¯å‡ºé”™å¤„ç†æµç¨‹ï¼›\n\nè€Œç¬¬äºŒä¸ªä¾‹å­ä¸ç®¡`type`ç­‰äº1ã€2è¿˜æ˜¯å…¶ä»–æƒ…å†µï¼Œéƒ½å±äºä¸šåŠ¡çš„æ­£å¸¸æµç¨‹ã€‚\n\nå¯¹äºè¿™ä¸¤ç§æƒ…å†µï¼Œé‡æ„çš„æ–¹æ³•ä¹Ÿä¸ä¸€æ ·ã€‚å®ç°çš„æ‰‹æ®µæœ‰ï¼š*å‡å°‘åµŒå¥—*ã€*ç§»é™¤ä¸´æ—¶å˜é‡*ã€*æ¡ä»¶å–ååˆ¤æ–­*ã€*åˆå¹¶æ¡ä»¶è¡¨è¾¾å¼*ç­‰ã€‚\n\nä¸‹é¢é’ˆå¯¹ä¸åŒæƒ…å½¢ä¸¾å‡ ä¸ªå®ä¾‹æ¥è®²è§£è¿™äº›é‡æ„æ–¹æ³•ã€‚\n\n# å¼‚å¸¸é€»è¾‘å¤„ç†å‹é‡æ„\n\n## å®ä¾‹ä¸€ï¼šåˆå¹¶æ¡ä»¶è¡¨è¾¾å¼\né‡æ„å‰ï¼š\n\n```java\ndouble disablityAmount() {\n    if (_seniority < 2) {\n        return 0;\n    }\n    if (_monthsDisabled > 12) {\n        return 0;\n    }\n    if (_isPartTime) {\n        return 0;\n    }\n    // do something\n}\n```\n\né‡æ„åï¼š\n\n```java\ndouble disablityAmount() {\n    if (_seniority < 2 || _monthsDisabled > 12 || _isPartTime)\n        return 0;\n    // do something\n}\n```\n\nè¿™é‡Œçš„é‡æ„æ‰‹æ³•å«**åˆå¹¶æ¡ä»¶è¡¨è¾¾å¼**ï¼šå¦‚æœæœ‰ä¸€ç³»åˆ—æ¡ä»¶æµ‹è¯•éƒ½å¾—åˆ°ç›¸åŒç»“æœï¼Œå°†è¿™äº›ç»“æœæµ‹è¯•åˆå¹¶ä¸ºä¸€ä¸ªæ¡ä»¶è¡¨è¾¾å¼ã€‚\n\nè¿™ä¸ªé‡æ„æ‰‹æ³•ç®€å•æ˜“æ‡‚ï¼Œå¸¦æ¥çš„æ•ˆæœä¹Ÿéå¸¸æ˜æ˜¾ï¼Œèƒ½æœ‰æ•ˆåœ°è¾ƒå°‘`if`è¯­å¥ï¼Œå‡å°‘ä»£ç é‡é€»è¾‘ä¸Šä¹Ÿæ›´åŠ æ˜“æ‡‚ã€‚\n\n## å®ä¾‹äºŒï¼šç§»é™¤ä¸´æ—¶å˜é‡\né‡æ„å‰ï¼š\n\n```java\ndouble getPayAmount() {\n    double result;\n    if (_isDead) {\n        result = deadAmount();\n    } else {\n        if (_isSeparated) {\n            result = separatedAmount();\n        } else {\n            if (_isRetired) {\n                result = retiredAmount();\n            } else {\n                result = normalPayAmount();\n            }\n        }\n    }\n    return result;\n}\n```\n\né‡æ„åï¼š\n\n```java\ndouble getPayAmount() {\n    if (_isDead) {\n        return deadAmount();\n    }\n    if (_isSeparated) {\n        return separatedAmount();\n    }\n    if (_isRetired) {\n        return retiredAmount();\n    }\n    return normalPayAmount();\n}\n```\n\næ€ä¹ˆæ ·ï¼Ÿæ¯”å¯¹ä¸¤ä¸ªç‰ˆæœ¬ï¼Œä¼šå‘ç°é‡æ„åçš„ç‰ˆæœ¬é€»è¾‘æ¸…æ™°ï¼Œç®€æ´æ˜“æ‡‚ã€‚\n\nå’Œé‡æ„å‰åˆ°åº•æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿ\n\næœ€å¤§çš„åŒºåˆ«æ˜¯**å‡å°‘`if-else`åµŒå¥—**ã€‚\n\nå¯ä»¥çœ‹åˆ°ï¼Œæœ€åˆçš„ç‰ˆæœ¬`if-else`æœ€æ·±çš„åµŒå¥—æœ‰ä¸‰å±‚ï¼Œçœ‹ä¸Šå»é€»è¾‘åˆ†æ”¯éå¸¸å¤šï¼Œè¿›åˆ°é‡Œé¢åŸºæœ¬éƒ½è¦è¢«ç»•æ™•ã€‚å…¶å®ï¼Œä»”ç»†æƒ³æƒ³åµŒå¥—å†…çš„`if-else`å’Œæœ€å¤–å±‚å¹¶æ²¡æœ‰å…³è”æ€§ï¼Œå®Œå…¨å¯ä»¥æå–æœ€é¡¶å±‚ï¼Œæ”¹ä¸ºå¹³è¡Œå…³ç³»ï¼Œè€ŒéåŒ…å«å…³ç³»ã€‚`if-else`æ•°é‡æ²¡æœ‰å˜åŒ–ï¼Œä½†æ˜¯é€»è¾‘æ¸…æ™°æ˜äº†ï¼Œä¸€ç›®äº†ç„¶ã€‚\n\nå¦ä¸€ä¸ªé‡æ„ç‚¹æ˜¯**åºŸé™¤äº†`result`ä¸´æ—¶å˜é‡ï¼Œç›´æ¥`return`è¿”å›**ã€‚å¥½å¤„ä¹Ÿæ˜¾è€Œæ˜“è§ï¼šç›´æ¥ç»“æŸæµç¨‹ï¼Œç¼©çŸ­å¼‚å¸¸åˆ†æ”¯æµç¨‹ã€‚åŸæ¥çš„åšæ³•å…ˆèµ‹å€¼ç»™`result`æœ€åç»Ÿä¸€`return`ï¼Œé‚£ä¹ˆå¯¹äºæœ€å`return`çš„å€¼åˆ°åº•æ˜¯å“ªä¸ªå‡½æ•°è¿”å›çš„ç»“æœä¸æ˜ç¡®ï¼Œå¢åŠ äº†ä¸€å±‚ç†è§£éš¾åº¦ã€‚\n\næ€»ç»“é‡æ„çš„è¦ç‚¹ï¼š**å¦‚æœ`if-else`åµŒå¥—æ²¡æœ‰å…³è”æ€§ï¼Œç›´æ¥æå–åˆ°ç¬¬ä¸€å±‚ï¼Œä¸€å®šè¦é¿å…é€»è¾‘åµŒå¥—å¤ªæ·±ã€‚å°½é‡å‡å°‘ä¸´æ—¶å˜é‡æ”¹ç”¨`return`ç›´æ¥è¿”å›ã€‚**\n\n## å®ä¾‹ä¸‰ï¼šæ¡ä»¶å–ååˆ¤æ–­\né‡æ„å‰ï¼š\n\n```java\npublic double getAdjustedCapital() {\n    double result = 0.0;\n    if (_capital > 0.0) {\n        if (_intRate > 0 && _duration > 0) {\n            result = (_income / _duration) * ADJ_FACTOR;\n        }\n    }\n    return result;\n}\n```\n\nç¬¬ä¸€æ­¥ï¼Œè¿ç”¨ç¬¬ä¸€æ‹›ï¼šå‡å°‘åµŒå¥—å’Œç§»é™¤ä¸´æ—¶å˜é‡ã€‚\n\n```java\npublic double getAdjustedCapital() {\n    if (_capital <= 0.0) {\n        return 0.0;\n    }\n    if (_intRate > 0 && _duration > 0) {\n        return (_income / _duration) * ADJ_FACTOR;\n    }\n    return 0.0;\n}\n```\n\nè¿™æ ·é‡æ„åï¼Œè¿˜ä¸å¤Ÿï¼Œå› ä¸ºä¸»è¦çš„è¯­å¥`(_income / _duration) * ADJ_FACTOR`åœ¨`if`å†…éƒ¨ï¼Œå¹¶éåœ¨æœ€å¤–å±‚ï¼Œæ ¹æ®ä¼˜åŒ–åŸåˆ™ã€Œ*å°½å¯èƒ½åœ°ç»´æŒæ­£å¸¸æµç¨‹ä»£ç åœ¨æœ€å¤–å±‚*ã€ï¼Œå¯ä»¥å†ç»§ç»­é‡æ„ã€‚\n\n```java\npublic double getAdjustedCapital() {\n    if (_capital <= 0.0) {\n        return 0.0;\n    }\n    if (_intRate <= 0 || _duration <= 0) {\n        return 0.0;\n    }\n    return (_income / _duration) * ADJ_FACTOR;\n}\n```\n\nè¿™æ‰æ˜¯å¥½çš„ä»£ç é£æ ¼ï¼Œé€»è¾‘æ¸…æ™°ï¼Œä¸€ç›®äº†ç„¶ï¼Œæ²¡æœ‰`if-else`åµŒå¥—éš¾ä»¥ç†è§£çš„æµç¨‹ã€‚\n\nè¿™é‡Œç”¨åˆ°çš„é‡æ„æ–¹æ³•æ˜¯ï¼š**å°†æ¡ä»¶åè½¬ä½¿å¼‚å¸¸æƒ…å†µå…ˆé€€å‡ºï¼Œè®©æ­£å¸¸æµç¨‹ç»´æŒåœ¨ä¸»å¹²æµç¨‹**ã€‚\n\n## å®ä¾‹å››ï¼šå‡å°‘if-elseåµŒå¥—\né‡æ„å‰ï¼š\n\n```java\n// æŸ¥æ‰¾å¹´é¾„å¤§äº18å²ä¸”ä¸ºç”·æ€§çš„å­¦ç”Ÿåˆ—è¡¨ \npublic ArrayList<Student> getStudents(int uid) {\n    ArrayList<Student> result = new ArrayList<Student>();\n    Student stu = getStudentByUid(uid);\n    if (stu != null) {\n        Teacher teacher = stu.getTeacher();\n        if (teacher != null) {\n            ArrayList<Student> students = teacher.getStudents();\n            if (students != null) {\n                for (Student student : students) {\n                    if (student.getAge() > = 18 && student.getGender() == MALE) {\n                        result.add(student);\n                    }\n                }\n            } else {\n                logger.error(\"è·å–å­¦ç”Ÿåˆ—è¡¨å¤±è´¥\");\n            }\n        } else {\n            logger.error(\"è·å–è€å¸ˆä¿¡æ¯å¤±è´¥\");\n        }\n    } else {\n        logger.error(\"è·å–å­¦ç”Ÿä¿¡æ¯å¤±è´¥\");\n    }\n    return result;\n}\n```\n\nå…¸å‹çš„ã€Œç®­å¤´å‹ã€ä»£ç ï¼Œæœ€å¤§çš„é—®é¢˜æ˜¯**åµŒå¥—è¿‡æ·±**ï¼Œè§£å†³æ–¹æ³•æ˜¯å¼‚å¸¸æ¡ä»¶å…ˆé€€å‡ºï¼Œä¿æŒä¸»å¹²æµç¨‹æ˜¯æ ¸å¿ƒæµç¨‹ã€‚\n\né‡æ„åï¼š\n\n```java\n// æŸ¥æ‰¾å¹´é¾„å¤§äº18å²ä¸”ä¸ºç”·æ€§çš„å­¦ç”Ÿåˆ—è¡¨\npublic ArrayList<Student> getStudents(int uid) {\n    ArrayList<Student> result = new ArrayList<Student>();\n    Student stu = getStudentByUid(uid);\n    if (stu == null) {\n        logger.error(\"è·å–å­¦ç”Ÿä¿¡æ¯å¤±è´¥\");\n        return result;\n    }\n    Teacher teacher = stu.getTeacher();\n    if (teacher == null) {\n        logger.error(\"è·å–è€å¸ˆä¿¡æ¯å¤±è´¥\");\n        return result;\n    }\n    ArrayList<Student> students = teacher.getStudents();\n    if (students == null) {\n        logger.error(\"è·å–å­¦ç”Ÿåˆ—è¡¨å¤±è´¥\");\n        return result;\n    }\n    for (Student student : students) {\n        if (student.getAge() > 18 && student.getGender() == MALE) {\n            result.add(student);\n        }\n    }\n    return result;\n}\n```\n\n# çŠ¶æ€å¤„ç†å‹é‡æ„\n\n## å®ä¾‹ä¸€ï¼šå°è£…æˆå†…éƒ¨å‡½æ•°\né‡æ„å‰ï¼š\n\n```java\ndouble getPayAmount() {\n    Object obj = getObj();\n    double money = 0;\n    if (obj.getType == 1) {\n        ObjectA objA = obj.getObjectA();\n        money = objA.getMoney() * obj.getNormalMoneryA();\n    } else if (obj.getType == 2) {\n        ObjectB objB = obj.getObjectB();\n        money = objB.getMoney() * obj.getNormalMoneryB() + 1000;\n    }\n}\n```\n\né‡æ„åï¼š\n\n```java\ndouble getPayAmount() {\n    Object obj = getObj();\n    if (obj.getType == 1) {\n        return getType1Money(obj);\n    } else if (obj.getType == 2) {\n        return getType2Money(obj);\n    }\n}\n\ndouble getType1Money(Object obj) {\n    ObjectA objA = obj.getObjectA();\n    return objA.getMoney() * obj.getNormalMoneryA();\n}\n\ndouble getType2Money(Object obj) {\n    ObjectB objB = obj.getObjectB();\n    return objB.getMoney() * obj.getNormalMoneryB() + 1000;\n}\n```\n\nè¿™é‡Œä½¿ç”¨çš„é‡æ„æ–¹æ³•æ˜¯ï¼š**æŠŠ`if-else`å†…çš„ä»£ç éƒ½å°è£…æˆä¸€ä¸ªå†…éƒ¨å‡½æ•°**ã€‚å†…éƒ¨å‡½æ•°çš„å¥½å¤„æ˜¯å±è”½å†…éƒ¨å®ç°ï¼Œç¼©çŸ­`if-else`åˆ†æ”¯çš„ä»£ç ã€‚ä»£ç ç»“æ„å’Œé€»è¾‘ä¸Šæ¸…æ™°ï¼Œèƒ½ä¸€ä¸‹çœ‹å‡ºæ¥æ¯ä¸€ä¸ªæ¡ä»¶ä¸‹å®ç°çš„åŠŸèƒ½ã€‚\n\n## å®ä¾‹äºŒï¼šç”¨å¤šæ€å–ä»£æ¡ä»¶è¡¨è¾¾å¼\né’ˆå¯¹çŠ¶æ€å¤„ç†çš„ä»£ç ï¼Œä¸€ç§ä¼˜é›…çš„åšæ³•æ˜¯ã€Œ*ã€Šé‡æ„ã€‹æ¨èåšæ³•*ã€**ç”¨å¤šæ€å–ä»£æ¡ä»¶è¡¨è¾¾å¼**ã€‚\n\n> ä½ æ‰‹ä¸Šæœ‰ä¸ªæ¡ä»¶è¡¨è¾¾å¼ï¼Œå®ƒæ ¹æ®å¯¹è±¡ç±»å‹çš„ä¸åŒè€Œé€‰æ‹©ä¸åŒçš„è¡Œä¸ºã€‚å°†è¿™ä¸ªè¡¨è¾¾å¼çš„æ¯ä¸ªåˆ†æ”¯æ”¾è¿›ä¸€ä¸ªå­ç±»å†…çš„è¦†å†™å‡½æ•°ä¸­ï¼Œç„¶åå°†åŸå§‹å‡½æ•°å£°æ˜ä¸ºæŠ½è±¡å‡½æ•°ã€‚\n\né‡æ„å‰ï¼š\n\n```java\ndouble getSpeed() {\n    switch (_type) {\n        case EUROPEAN:\n            return getBaseSpeed();\n        case AFRICAN:\n            return getBaseSpeed() - getLoadFactor() * _numberOfCoconuts;\n        case NORWEGIAN_BLUE:\n            return (_isNailed) ? 0 : getBaseSpeed(_voltage);\n    }\n}\n```\n\né‡æ„åï¼š\n\n```java\nclass Bird {\n    abstract double getSpeed();\n}\n\nclass European extends Bird {\n    double getSpeed() {\n        return getBaseSpeed();\n    }\n}\n\nclass African extends Bird {\n    double getSpeed() {\n        return getBaseSpeed() - getLoadFactor() * _numberOfCoconuts;\n    }\n}\n\nclass NorwegianBlue extends Bird {\n    double getSpeed() {\n        return (_isNailed) ? 0 : getBaseSpeed(_voltage);\n    }\n}\n```\n\nå¯ä»¥çœ‹åˆ°ï¼Œä½¿ç”¨å¤šæ€åç›´æ¥æ²¡æœ‰äº†`if-else`ï¼Œä½†ä½¿ç”¨å¤šæ€å¯¹åŸæœ¬ä»£ç ä¿®æ”¹è¿‡å¤§ï¼Œéœ€è¦ä¸‹ä¸€ç•ªåŠŸå¤«æ‰è¡Œã€‚æœ€å¥½åœ¨è®¾è®¡ä¹‹åˆå°±ä½¿ç”¨å¤šæ€æ–¹å¼ã€‚\n\n# å°ç»“\n`if-else`ä»£ç æ˜¯æ¯ä¸€ä¸ªç¨‹åºå‘˜æœ€å®¹æ˜“å†™å‡ºçš„ä»£ç ï¼ŒåŒæ—¶ä¹Ÿæ˜¯æœ€å®¹æ˜“è¢«å†™çƒ‚çš„ä»£ç ï¼Œç¨ä¸æ³¨æ„ï¼Œå°±äº§ç”Ÿä¸€å †éš¾ä»¥ç»´æŠ¤å’Œé€»è¾‘æ··ä¹±çš„ä»£ç ã€‚\n\né’ˆå¯¹æ¡ä»¶å‹ä»£ç é‡æ„æ—¶åˆ»æŠŠæ¡ä¸€ä¸ªåŸåˆ™ï¼š\n\n**å°½å¯èƒ½åœ°ç»´æŒæ­£å¸¸æµç¨‹ä»£ç åœ¨æœ€å¤–å±‚ï¼Œä¿æŒä¸»å¹²æµç¨‹æ˜¯æ­£å¸¸æ ¸å¿ƒæµç¨‹ã€‚**\n\nä¸ºç»´æŒè¿™ä¸ªåŸåˆ™ï¼Œåˆå¹¶æ¡ä»¶è¡¨è¾¾å¼å¯ä»¥æœ‰æ•ˆåœ°å‡å°‘`if`è¯­å¥æ•°ç›®ï¼Œå‡å°‘åµŒå¥—èƒ½å‡å°‘æ·±å±‚æ¬¡é€»è¾‘ï¼Œå¼‚å¸¸æ¡ä»¶å…ˆé€€å‡ºè‡ªç„¶è€Œç„¶ä¸»å¹²æµç¨‹å°±æ˜¯æ­£å¸¸æµç¨‹ã€‚\n\né’ˆå¯¹çŠ¶æ€å¤„ç†å‹é‡æ„æ–¹æ³•æœ‰ä¸¤ç§ï¼šä¸€ç§æ˜¯æŠŠä¸åŒçŠ¶æ€çš„æ“ä½œå°è£…æˆå†…éƒ¨å‡½æ•°ï¼Œç®€çŸ­`if-else`å†…ä»£ç è¡Œæ•°ï¼›å¦ä¸€ç§æ˜¯åˆ©ç”¨é¢å‘å¯¹è±¡å¤šæ€ç‰¹æ€§ç›´æ¥å¹²æ‰äº†æ¡ä»¶åˆ¤æ–­ã€‚\n\nç°åœ¨å›å¤´çœ‹çœ‹è‡ªå·±çš„ä»£ç ï¼ŒçŠ¯äº†å“ªäº›å…¸å‹é”™è¯¯ï¼Œèµ¶ç´§è¿ç”¨è¿™äº›é‡æ„æ–¹æ³•é‡æ„ä»£ç å§ï¼\n\n---\n**éå¸¸æ„Ÿè°¢ä½ çš„é˜…è¯»ï¼Œè¾›è‹¦äº†ï¼**\n\n---\næœ¬æ–‡è½¬è‡ªCSDNåšä¸»ã€Œyinnnnnnnã€çš„æ–‡ç« [6ä¸ªå®ä¾‹è¯¦è§£å¦‚ä½•æŠŠif-elseä»£ç é‡æ„æˆé«˜è´¨é‡ä»£ç ](https://blog.csdn.net/qq_35440678/article/details/77939999)\n","tags":["åç«¯","Java","é‡æ„"],"categories":["ç»éªŒåˆ†äº«"]},{"title":"git rebase VS git mergeï¼Ÿæ›´ä¼˜é›…çš„Gitåˆå¹¶æ–¹å¼å€¼å¾—æ‹¥æœ‰","url":"/posts/21df300fabde.html","content":"# å†™åœ¨å‰é¢\nä½ åœ¨ä½¿ç”¨Gitåˆå¹¶åˆ†æ”¯æ—¶åªä¼šä½¿ç”¨`git merge`å—ï¼Ÿæœ‰æ—¶ä½¿ç”¨`git rebase`å¯ä»¥æ¯”`git merge`åšå‡ºæ›´ä¼˜é›…çš„æ“ä½œã€‚\n\n![åˆå¹¶ä¸å˜åŸº](https://fastly.jsdelivr.net/gh/Xe-Persistent/CDN-source/image/post/git-merge-and-rebase/hero.svg)\n\nå¦å¤–ï¼Œå¦‚æœä½ ä¸èƒ½å¾ˆå¥½çš„åº”ç”¨Gitï¼Œé‚£ä¹ˆè¿™é‡Œä¸ºä½ æä¾›ä¸€ä¸ªéå¸¸æ£’çš„Gitåœ¨çº¿ç»ƒä¹ å·¥å…·ï¼š[Git Online](https://learngitbranching.js.org)ï¼Œä½ å¯ä»¥æ›´ç›´è§‚çš„çœ‹åˆ°ä½ æ‰€ä½¿ç”¨çš„å‘½ä»¤ä¼šäº§ç”Ÿä»€ä¹ˆæ•ˆæœã€‚\n\n# Mergeä¸Rebase\nä¸çŸ¥æ€ä¹ˆï¼Œ`git rebase`å‘½ä»¤è¢«èµ‹äºˆäº†ä¸€ä¸ªç¥å¥‡çš„æ±¡æ¯’å£°èª‰ï¼Œåˆå­¦è€…åº”è¯¥è¿œç¦»å®ƒï¼Œä½†å®ƒå®é™…ä¸Šå¯ä»¥è®©å¼€å‘å›¢é˜Ÿåœ¨ä½¿ç”¨æ—¶æ›´åŠ è½»æ¾ã€‚\n\n> ä½ å¯ä»¥å°†å®ƒç†è§£æˆã€Œä¸ƒä¼¤æ‹³ã€ï¼Œã€Œä¸ƒä¼¤æ‹³ã€å¹¶ä¸æ˜¯ä¸èƒ½ç»ƒï¼Œåªæ˜¯ç»ƒã€Œä¸ƒä¼¤æ‹³ã€æœ‰ä¸€ä¸ªå…ˆè¯€æ¡ä»¶ï¼Œé‚£å°±æ˜¯å†…åŠŸå¢ƒç•Œä¸€å®šè¦éå¸¸é«˜ï¼Œå³ä½ è¦å……åˆ†ç†è§£`git rebase`å‘½ä»¤ã€‚\n\nåœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å°†`git rebase`ä¸`git merge`å‘½ä»¤è¿›è¡Œæ¯”è¾ƒã€‚åœ¨Gitå·¥ä½œæµä¸­ï¼Œè¯´æ˜æ‰€æœ‰å¯ä»¥ä½¿ç”¨Rebaseçš„åœºæ™¯ã€‚\n\n# æ¦‚å¿µæ¦‚è¿°\nå…³äº`git rebase`ï¼Œé¦–å…ˆè¦ç†è§£çš„æ˜¯å®ƒè§£å†³äº†å’Œ`git merge`åŒæ ·çš„é—®é¢˜ã€‚è¿™ä¸¤ä¸ªå‘½ä»¤éƒ½æ—¨åœ¨å°†æ›´æ”¹ä»ä¸€ä¸ªåˆ†æ”¯åˆå¹¶åˆ°å¦ä¸€ä¸ªåˆ†æ”¯ï¼Œä½†äºŒè€…çš„åˆå¹¶æ–¹å¼å´æœ‰å¾ˆå¤§çš„ä¸åŒã€‚\n\nå½“ä½ åœ¨ä¸“ç”¨åˆ†æ”¯ä¸Šå¼€å‘æ–°featureæ—¶ï¼Œå¦ä¸€ä¸ªå›¢é˜Ÿæˆå‘˜åœ¨`master`åˆ†æ”¯æäº¤äº†æ–°çš„commitsï¼Œè¿™ä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿè¿™ä¼šå¯¼è‡´åˆ†å‰çš„å†å²è®°å½•ã€‚å¯¹äºè¿™ä¸ªé—®é¢˜ï¼Œä½¿ç”¨Gitä½œä¸ºåä½œå·¥å…·çš„ä»»ä½•äººæ¥è¯´éƒ½åº”è¯¥å¾ˆç†Ÿæ‚‰ã€‚\n\n![åˆ†å‰çš„æäº¤å†å²è®°å½•](https://fastly.jsdelivr.net/gh/Xe-Persistent/CDN-source/image/post/git-merge-and-rebase/01.svg)\n\nç°åœ¨ï¼Œå‡è®¾åœ¨`master`åˆ†æ”¯ä¸Šçš„æ–°æäº¤ä¸ä½ æ­£åœ¨å¼€å‘çš„featureç›¸å…³ã€‚éœ€è¦å°†æ–°æäº¤åˆå¹¶åˆ°ä½ çš„`feature`åˆ†æ”¯ä¸­ï¼Œä½ å¯ä»¥æœ‰ä¸¤ä¸ªé€‰æ‹©ï¼šmergeæˆ–è€…rebaseã€‚\n\n## Mergeæ–¹å¼\næœ€ç®€å•çš„æ–¹å¼æ˜¯é€šè¿‡ä»¥ä¸‹å‘½ä»¤å°†`master`åˆ†æ”¯åˆå¹¶åˆ°`feature`åˆ†æ”¯ä¸­ï¼š\n\n```powershell\ngit checkout feature\ngit merge master\n```\n\næˆ–è€…ï¼Œä½ å¯ä»¥å°†å…¶æµ“ç¼©ä¸ºä¸€è¡Œå‘½ä»¤ï¼š\n\n```powershell\ngit merge feature master\n```\n\nè¿™ä¼šåœ¨`feature`åˆ†æ”¯ä¸­åˆ›å»ºä¸€ä¸ªæ–°çš„**merge commit**ï¼Œå®ƒå°†ä¸¤ä¸ªåˆ†æ”¯çš„å†å²è”ç³»åœ¨ä¸€èµ·ï¼Œè¯·çœ‹å¦‚ä¸‹æ‰€ç¤ºçš„åˆ†æ”¯ç»“æ„ï¼š\n\n![å°†masteråˆ†æ”¯åˆå¹¶åˆ°featureåˆ†æ”¯ä¸­](https://fastly.jsdelivr.net/gh/Xe-Persistent/CDN-source/image/post/git-merge-and-rebase/02.svg)\n\nä½¿ç”¨mergeæ˜¯å¾ˆå¥½çš„æ–¹å¼ï¼Œå› ä¸ºå®ƒæ˜¯ä¸€ç§**éç ´åæ€§**çš„æ“ä½œã€‚ç°æœ‰åˆ†æ”¯ä¸ä¼šä»¥ä»»ä½•æ–¹å¼è¢«æ›´æ”¹ï¼Œè¿™é¿å…äº†rebaseæ“ä½œæ‰€äº§ç”Ÿçš„æ½œåœ¨ç¼ºé™·ï¼ˆä¸‹é¢è®¨è®ºï¼‰ã€‚\n\nå¦ä¸€æ–¹é¢ï¼Œè¿™ä¹Ÿæ„å‘³ç€`feature`åˆ†æ”¯æ¯æ¬¡éœ€è¦åˆå¹¶ä¸Šæ¸¸æ›´æ”¹æ—¶ï¼Œå®ƒéƒ½å°†äº§ç”Ÿä¸€ä¸ªé¢å¤–çš„åˆå¹¶æäº¤ã€‚å¦‚æœ`master`æäº¤éå¸¸æ´»è·ƒï¼Œè¿™å¯èƒ½ä¼šä¸¥é‡æ±¡æŸ“ä½ çš„`feature`åˆ†æ”¯å†å²è®°å½•ã€‚å°½ç®¡å¯ä»¥ä½¿ç”¨é«˜çº§é€‰é¡¹`git log`ç¼“è§£æ­¤é—®é¢˜ï¼Œä½†å®ƒå¯èƒ½ä½¿å…¶ä»–å¼€å‘äººå‘˜**éš¾ä»¥ç†è§£é¡¹ç›®çš„å†å²è®°å½•**ã€‚\n\n## Rebaseæ–¹å¼\nä½œä¸ºmergeçš„æ›¿ä»£æ–¹æ³•ï¼Œä½ å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å°†`master`åˆ†æ”¯åˆå¹¶åˆ°`feature`åˆ†æ”¯ä¸Šï¼š\n\n```powershell\ngit checkout feature\ngit rebase master\n```\n\nè¿™ä¼šå°†æ•´ä¸ª`feature`åˆ†æ”¯ç§»åŠ¨åˆ°`master`åˆ†æ”¯çš„é¡¶ç«¯ï¼Œä»è€Œæœ‰æ•ˆåœ°æ•´åˆäº†æ‰€æœ‰`master`åˆ†æ”¯ä¸Šçš„æäº¤ã€‚ä½†æ˜¯ï¼Œä¸mergeæäº¤æ–¹å¼ä¸åŒï¼Œrebaseé€šè¿‡ä¸ºåŸå§‹åˆ†æ”¯ä¸­çš„æ¯ä¸ªæäº¤åˆ›å»ºå…¨æ–°çš„commitsæ¥**é‡å†™**é¡¹ç›®å†å²è®°å½•ã€‚\n\n![å°†featureåˆ†æ”¯rebaseåˆ°masteråˆ†æ”¯ä¸Š](https://fastly.jsdelivr.net/gh/Xe-Persistent/CDN-source/image/post/git-merge-and-rebase/03.svg)\n\nrebaseçš„ä¸»è¦å¥½å¤„æ˜¯å¯ä»¥è·å¾—æ›´æ¸…æ™°çš„é¡¹ç›®å†å²ã€‚é¦–å…ˆï¼Œå®ƒæ¶ˆé™¤äº†`git merge`æ‰€éœ€çš„ä¸å¿…è¦çš„åˆå¹¶æäº¤ï¼›å…¶æ¬¡ï¼Œæ­£å¦‚ä½ åœ¨ä¸Šå›¾ä¸­æ‰€çœ‹åˆ°çš„ï¼Œrebaseä¼šäº§ç”Ÿå®Œç¾çº¿æ€§çš„é¡¹ç›®å†å²è®°å½•ï¼Œä½ å¯ä»¥åœ¨`feature`åˆ†æ”¯ä¸Šæ²¡æœ‰ä»»ä½•åˆ†å‰çš„æƒ…å†µä¸‹ä¸€ç›´è¿½å¯»åˆ°é¡¹ç›®çš„åˆå§‹æäº¤ã€‚è¿™æ ·å¯ä»¥é€šè¿‡å‘½ä»¤`git log`ï¼Œ`git bisect`å’Œ`gitk`æ›´å®¹æ˜“åœ°å¯¼èˆªæŸ¥çœ‹é¡¹ç›®ã€‚\n\nä½†æ˜¯ï¼Œé’ˆå¯¹è¿™æ ·çš„æäº¤å†å²æˆ‘ä»¬éœ€è¦æƒè¡¡å…¶ã€Œå®‰å…¨æ€§ã€å’Œã€Œå¯è¿½æº¯æ€§ã€ã€‚å¦‚æœä½ ä¸éµå¾ª**Rebaseçš„é»„é‡‘æ³•åˆ™**ï¼Œé‡å†™é¡¹ç›®å†å²è®°å½•å¯èƒ½ä¼šå¯¹ä½ çš„åä½œå·¥ä½œæµç¨‹é€ æˆç¾éš¾æ€§åæœã€‚è€Œä¸”ï¼Œrebaseä¼šä¸¢å¤±åˆå¹¶æäº¤çš„ä¸Šä¸‹æ–‡ï¼Œä½ ä¹Ÿå°±æ— æ³•çœ‹åˆ°ä¸Šæ¸¸æ›´æ”¹æ˜¯ä½•æ—¶åˆå¹¶åˆ°featureä¸­çš„ã€‚\n\n## äº¤äº’å¼Rebase\näº¤äº’å¼rebaseä½¿ä½ æœ‰æœºä¼šåœ¨å°†commitsç§»åŠ¨åˆ°æ–°åˆ†æ”¯æ—¶æ›´æ”¹è¿™äº›commitsã€‚è¿™æ¯”è‡ªåŠ¨rebaseæ›´å¼ºå¤§ï¼Œå› ä¸ºå®ƒæä¾›äº†å¯¹åˆ†æ”¯æäº¤å†å²çš„å®Œå…¨æ§åˆ¶ã€‚é€šå¸¸ï¼Œè¿™ç”¨äºåœ¨åˆå¹¶`feature`åˆ†æ”¯åˆ° `master`ä¹‹å‰æ¸…ç†å…¶æ‚ä¹±çš„å†å²è®°å½•ã€‚\n\nè¦ä½¿ç”¨äº¤äº’å¼rebaseï¼Œéœ€è¦ä½¿ç”¨`git rebase`å’Œ`-i`é€‰é¡¹ï¼š\n\n```powershell\ngit checkout feature\ngit rebase -i master\n```\n\nè¿™å°†æ‰“å¼€ä¸€ä¸ªæ–‡æœ¬ç¼–è¾‘å™¨ï¼Œåˆ—å‡ºå³å°†ç§»åŠ¨çš„æ‰€æœ‰æäº¤ï¼š\n\n```powershell\npick 33d5b7a Message for commit #1\npick 9480b3d Message for commit #2\npick 5c67e61 Message for commit #3\n```\n\næ­¤åˆ—è¡¨å‡†ç¡®å®šä¹‰äº†æ‰§è¡Œrebaseååˆ†æ”¯çš„å¤–è§‚ã€‚é€šè¿‡æ›´æ”¹`pick`å‘½ä»¤æˆ–é‡æ–°æ’åºæ¡ç›®ï¼Œä½ å¯ä»¥ä½¿åˆ†æ”¯çš„å†å²è®°å½•çœ‹èµ·æ¥åƒä½ æƒ³è¦çš„ä»»ä½•å†…å®¹ã€‚ä¾‹å¦‚ï¼Œå¦‚æœç¬¬äºŒæ¬¡æäº¤fixäº†ç¬¬ä¸€æ¬¡æäº¤ä¸­çš„ä¸€ä¸ªå°é—®é¢˜ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹`fixup`å‘½ä»¤å°†å®ƒä»¬æµ“ç¼©ä¸ºä¸€ä¸ªæäº¤ï¼š\n\n```powershell\npick 33d5b7a Message for commit #1\nfixup 9480b3d Message for commit #2\npick 5c67e61 Message for commit #3\n```\n\nä¿å­˜å¹¶å…³é—­æ–‡ä»¶æ—¶ï¼ŒGitå°†æ ¹æ®æ‚¨çš„æŒ‡ç¤ºæ‰§è¡Œrebaseï¼Œä»è€Œäº§ç”Ÿå¦‚ä¸‹æ‰€ç¤ºçš„é¡¹ç›®å†å²è®°å½•ï¼š\n\n![ä½¿ç”¨äº¤äº’å¼rebaseæ¥å‹ç¼©æäº¤](https://fastly.jsdelivr.net/gh/Xe-Persistent/CDN-source/image/post/git-merge-and-rebase/04.svg)\n\næ¶ˆé™¤è¿™ç§æ— æ„ä¹‰çš„æäº¤ä½¿ä½ çš„åŠŸèƒ½å†å²æ›´å®¹æ˜“ç†è§£ã€‚è¿™æ˜¯`git merge`æ ¹æœ¬æ— æ³•åšåˆ°çš„äº‹æƒ…ã€‚è‡³äºcommitsæ¡ç›®å‰çš„`pick`ã€`fixup`ã€`squash`ç­‰å‘½ä»¤ï¼Œåœ¨Gitç›®å½•æ‰§è¡Œ`git rebase -i`å³å¯æŸ¥çœ‹åˆ°ï¼Œå¤§å®¶æŒ‰éœ€é‡æ’æˆ–åˆå¹¶æäº¤å³å¯ï¼Œæ³¨é‡Šè¯´æ˜éå¸¸æ¸…æ™°ï¼Œåœ¨æ­¤ä¸åšè¿‡å¤šè¯´æ˜ã€‚\n\n# Rebaseçš„é»„é‡‘æ³•åˆ™\nä¸€æ—¦ä½ ç†è§£äº†ä»€ä¹ˆæ˜¯rebaseï¼Œæœ€é‡è¦çš„æ˜¯è¦å­¦ä¹ ä»€ä¹ˆæ—¶å€™ä¸èƒ½ä½¿ç”¨å®ƒã€‚`git rebase`çš„é»„é‡‘æ³•åˆ™æ˜¯æ°¸è¿œä¸è¦åœ¨å…¬å…±åˆ†æ”¯ä¸Šä½¿ç”¨å®ƒã€‚\n\nä¾‹å¦‚ï¼Œæƒ³æƒ³å¦‚æœä½ rebase`master`åˆ†æ”¯åˆ°`feature`åˆ†æ”¯ä¹‹ä¸Šä¼šå‘ç”Ÿä»€ä¹ˆï¼š\n\n![Rebaseåˆ°ä¸»åˆ†æ”¯](https://fastly.jsdelivr.net/gh/Xe-Persistent/CDN-source/image/post/git-merge-and-rebase/05.svg)\n\nrebaseå°†æ‰€æœ‰`master`åˆ†æ”¯ä¸Šçš„æäº¤ç§»åŠ¨ feature åˆ†æ”¯çš„é¡¶ç«¯ã€‚é—®é¢˜æ˜¯è¿™åªå‘ç”Ÿåœ¨**ä½ è‡ªå·±**çš„å­˜å‚¨åº“ä¸­ã€‚æ‰€æœ‰å…¶ä»–å¼€å‘äººå‘˜ä»åœ¨ä½¿ç”¨åŸå§‹ç‰ˆæœ¬çš„`master`ã€‚ç”±äºrebaseäº§ç”Ÿäº†å…¨æ–° commitï¼ŒGitä¼šè®¤ä¸ºä½ çš„`master`åˆ†æ”¯å†å²ä¸å…¶ä»–äººçš„å†å²ä¸åŒã€‚\n\næ­¤æ—¶ï¼ŒåŒæ­¥ä¸¤ä¸ª`master`åˆ†æ”¯çš„å”¯ä¸€æ–¹æ³•æ˜¯å°†å®ƒä»¬åˆå¹¶åœ¨ä¸€èµ·ï¼Œä½†æ˜¯è¿™æ ·ä¼šäº§ç”Ÿé¢å¤–çš„åˆå¹¶æäº¤å’Œä¸¤ç»„åŒ…å«ç›¸åŒæ›´æ”¹çš„æäº¤ï¼ˆåŸå§‹æäº¤å’Œé€šè¿‡rebaseæ›´æ”¹çš„åˆ†æ”¯æäº¤ï¼‰ã€‚ä¸ç”¨è¯´ï¼Œè¿™æ˜¯ä¸€ä¸ªä»¤äººéå¸¸å›°æƒ‘çš„æƒ…å†µã€‚\n\nå› æ­¤ï¼Œåœ¨ä½ è¿è¡Œ`git rebase`å‘½ä»¤ä¹‹å‰ï¼Œæ€»æ˜¯é—®è‡ªå·±ï¼Œ**è¿˜æœ‰å…¶ä»–äººåœ¨ç”¨è¿™ä¸ªåˆ†æ”¯å—ï¼Ÿ** å¦‚æœç­”æ¡ˆæ˜¯è‚¯å®šçš„ï¼Œé‚£å°±æŠŠä½ çš„æ‰‹ä»é”®ç›˜ä¸Šç§»å¼€ï¼Œå¼€å§‹è€ƒè™‘é‡‡ç”¨éç ´åæ€§çš„æ–¹å¼è¿›è¡Œæ”¹å˜ï¼ˆä¾‹å¦‚`git revert`å‘½ä»¤ï¼‰ã€‚å¦åˆ™ï¼Œä½ å¯ä»¥éšå¿ƒæ‰€æ¬²åœ°é‡å†™å†å²è®°å½•ã€‚\n\n## Force Push\nå¦‚æœä½ å°è¯•å°†rebaseäº†çš„`master`åˆ†æ”¯æ¨é€å›remote repositoryï¼ŒGitå°†é˜»æ­¢ä½ è¿™æ ·åšï¼Œå› ä¸ºå®ƒä¼šä¸è¿œç¨‹`master`åˆ†æ”¯å†²çªã€‚ä½†æ˜¯ï¼Œä½ å¯ä»¥é€šè¿‡ä¼ é€’`--force`æ ‡å¿—æ¥å¼ºåˆ¶æ¨é€ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š\n\n```powershell\n# Be very careful with this command!\ngit push --force\n```\n\nè¿™æ ·ä½ è‡ªå·±repositoryçš„å†…å®¹å°†è¦†ç›–è¿œç¨‹`master`åˆ†æ”¯çš„å†…å®¹ï¼Œä½†è¿™ä¼šä½¿å›¢é˜Ÿçš„å…¶ä»–æˆå‘˜æ„Ÿåˆ°å›°æƒ‘ã€‚å› æ­¤ï¼Œåªæœ‰åœ¨ç¡®åˆ‡çŸ¥é“è‡ªå·±åœ¨åšä»€ä¹ˆæ—¶æ‰è¦éå¸¸å°å¿ƒåœ°ä½¿ç”¨æ­¤å‘½ä»¤ã€‚\n\nå¦‚æœæ²¡æœ‰äººåœ¨featureåˆ†æ”¯ä¸Šä½œå‡ºæ›´æ”¹ï¼Œä½ å¯ä»¥ä½¿ç”¨force pushå°†æœ¬åœ°å†…å®¹æ¨é€åˆ°remote repositoryåšæ¸…ç†å·¥ä½œã€‚\n\n# å·¥ä½œæµç¨‹æ¼”ç»ƒ\nrebaseå¯ä»¥æ ¹æ®ä½ æ‰€åœ¨å›¢é˜Ÿçš„éœ€è¦æ–¹ä¾¿çš„æ•´åˆåˆ°ç°æœ‰çš„Gitå·¥ä½œæµç¨‹ä¸­ã€‚åœ¨æœ¬èŠ‚ä¸­ï¼Œæˆ‘ä»¬å°†äº†è§£rebaseåœ¨åŠŸèƒ½å¼€å‘çš„å„ä¸ªé˜¶æ®µå¯ä»¥æä¾›çš„å¥½å¤„ã€‚\n\nåœ¨ä»»ä½•å·¥ä½œæµç¨‹ä¸­ï¼Œåˆ©ç”¨`git rebase`æ˜¯ä¸ºæ¯ä¸ªåŠŸèƒ½åˆ›å»ºä¸“ç”¨åˆ†æ”¯ã€‚è¿™ä¸ºä½ æä¾›äº†å¿…è¦çš„åˆ†æ”¯ï¼Œä»¥å®‰å…¨åœ°åˆ©ç”¨rebaseï¼š\n\n![åœ¨ä¸“ç”¨åˆ†æ”¯ä¸­å¼€å‘åŠŸèƒ½](https://fastly.jsdelivr.net/gh/Xe-Persistent/CDN-source/image/post/git-merge-and-rebase/06.svg)\n\n## æœ¬åœ°æ¸…ç†\nå°†rebaseçº³å…¥å·¥ä½œæµç¨‹çš„æœ€ä½³æ–¹æ³•ä¹‹ä¸€æ˜¯æ¸…ç†æœ¬åœ°æ­£åœ¨è¿›è¡Œçš„åŠŸèƒ½ã€‚é€šè¿‡å®šæœŸæ‰§è¡Œäº¤äº’å¼rebaseï¼Œä½ å¯ä»¥ç¡®ä¿åŠŸèƒ½ä¸­çš„æ¯ä¸ªæäº¤éƒ½å…·æœ‰é’ˆå¯¹æ€§å’Œæ„ä¹‰ã€‚è¿™å¯ä»¥ä½¿ä½ åœ¨ç¼–å†™ä»£ç æ—¶æ— éœ€æ‹…å¿ƒå°†å…¶åˆ†è§£ä¸ºéš”ç¦»çš„æäº¤ï¼ˆå¤šä¸ªæäº¤ï¼‰ï¼Œä½ å¯ä»¥åœ¨äº‹åä¿®å¤æ•´åˆå®ƒã€‚\n\nä½¿ç”¨`git rebase`æ—¶ï¼Œæœ‰ä¸¤ç§æƒ…å†µï¼š`feature`çˆ¶åˆ†æ”¯ï¼ˆä¾‹å¦‚`master`ï¼‰çš„æäº¤ï¼Œæˆ–åœ¨`feature`ä¸­çš„æ—©æœŸæäº¤ã€‚æˆ‘ä»¬åœ¨**äº¤äº’å¼ Rebase**éƒ¨åˆ†å·²ç»ä»‹ç»äº†ç¬¬ä¸€ç§æƒ…å†µçš„ç¤ºä¾‹ã€‚æˆ‘ä»¬æ¥çœ‹åä¸€ç§æƒ…å†µï¼Œå½“ä½ åªéœ€è¦ä¿®å¤æœ€åå‡ æ¬¡æäº¤æ—¶ï¼Œä»¥ä¸‹å‘½ä»¤ä»…åšæœ€å`3`æ¬¡æäº¤çš„äº¤äº’å¼rebaseã€‚\n\n```powershell\ngit checkout feature\ngit rebase -i HEAD~3\n```\n\né€šè¿‡æŒ‡å®š`HEAD~3`ï¼Œä½ å®é™…ä¸Šå¹¶æ²¡æœ‰ç§»åŠ¨åˆ†æ”¯ï¼Œä½ åªæ˜¯äº¤äº’å¼åœ°é‡å†™å…¶åçš„`3`ä¸ªæäº¤ã€‚è¯·æ³¨æ„ï¼Œè¿™**ä¸ä¼š**å°†ä¸Šæ¸¸æ›´æ”¹åˆå¹¶åˆ°`feature`åˆ†æ”¯ä¸­ã€‚\n\n![Rebaseåˆ°HEAD~3](https://fastly.jsdelivr.net/gh/Xe-Persistent/CDN-source/image/post/git-merge-and-rebase/07.svg)\n\nå¦‚æœè¦ä½¿ç”¨æ­¤æ–¹æ³•é‡å†™æ•´ä¸ªåŠŸèƒ½ï¼Œ`git merge-base`å‘½ä»¤å¯ç”¨äºæŸ¥æ‰¾`feature`åˆ†æ”¯çš„åŸå§‹baseã€‚ä»¥ä¸‹å†…å®¹è¿”å›åŸå§‹baseçš„æäº¤IDï¼Œç„¶åä½ å¯ä»¥å°†å…¶ä¼ é€’ç»™`git rebase`ï¼š\n\n```powershell\ngit merge-base feature master\n```\n\näº¤äº’å¼rebaseçš„ä½¿ç”¨æ˜¯å¼•å…¥`git rebase`å·¥ä½œæµçš„å¥½æ–¹æ³•ï¼Œå› ä¸ºå®ƒåªå½±å“æœ¬åœ°åˆ†æ”¯ã€‚å…¶ä»–å¼€å‘äººå‘˜å”¯ä¸€èƒ½çœ‹åˆ°çš„å°±æ˜¯ä½ æäº¤çš„æœ€ç»ˆç‰ˆï¼Œè¿™åº”è¯¥æ˜¯ä¸€ä¸ªç®€æ´æ˜“æ‡‚æ˜“è·Ÿè¸ªçš„åˆ†æ”¯å†å²è®°å½•ã€‚\n\nä½†åŒæ ·ï¼Œè¿™ä»…é€‚ç”¨äºç§æœ‰`feature`åˆ†æ”¯ã€‚å¦‚æœä½ é€šè¿‡ç›¸åŒçš„åŠŸèƒ½åˆ†æ”¯(å…¬å…±åˆ†æ”¯)ä¸å…¶ä»–å¼€å‘äººå‘˜åä½œï¼Œé‚£ä¹ˆä½ æ˜¯**ä¸è¢«å…è®¸**é‡å†™å…¶å†å²è®°å½•çš„ã€‚\n\n## å°†ä¸Šæ¸¸æ›´æ”¹åˆå¹¶åˆ°åŠŸèƒ½åˆ†æ”¯ä¸­\nåœ¨**æ¦‚å¿µæ¦‚è¿°**éƒ¨åˆ†ä¸­ï¼Œæˆ‘ä»¬äº†è§£äº†`feature`åˆ†æ”¯å¯ä»¥ä½¿ç”¨`git merge`æˆ–`git rebase`åˆå¹¶`master`åˆ†æ”¯çš„ä¸Šæ¸¸æ›´æ”¹ã€‚mergeæ˜¯ä¸€ä¸ªå®‰å…¨çš„æ–¹å¼ï¼Œå¯ä»¥ä¿ç•™git repositoryçš„æ•´ä¸ªå†å²è®°å½•ï¼Œè€Œrebaseåˆ™æ˜¯é€šè¿‡å°†`feature`åˆ†æ”¯ç§»åŠ¨åˆ°`master`é¡¶ç«¯æ¥åˆ›å»ºçº¿æ€§å†å²è®°å½•ã€‚\n\nè¿™ç§ä½¿ç”¨`git rebase`ç±»ä¼¼äºæœ¬åœ°æ¸…ç†ï¼Œä½†åœ¨æ­¤è¿‡ç¨‹ä¸­å®ƒåŒ…å«äº†é‚£äº›æ¥è‡ªmasterä¸Šæ¸¸çš„æäº¤ã€‚\n\nè¯·è®°ä½ï¼Œå°†å½“å‰æäº¤rebaseåˆ°è¿œç¨‹branchï¼ˆémasteråˆ†æ”¯ï¼‰ä¸€æ ·æ˜¯åˆæ³•çš„ã€‚å½“ä¸å¦ä¸€ä¸ªå¼€å‘äººå‘˜åä½œä½¿ç”¨ç›¸åŒçš„åŠŸèƒ½å¹¶ä¸”ä½ éœ€è¦å°†ä»–ä»¬çš„æ›´æ”¹åˆå¹¶åˆ°ä½ çš„repositoryæ—¶ï¼Œå°±ä¼šå‘ç”Ÿè¿™ç§æƒ…å†µã€‚\n\nä¾‹å¦‚ï¼Œå¦‚æœä½ å’Œå¦ä¸€ä¸ªåä¸ºJohnçš„å¼€å‘äººå‘˜æ·»åŠ äº†å¯¹`feature`åˆ†æ”¯çš„æäº¤ï¼Œåœ¨ä½ fetchï¼ˆæ³¨æ„fetchå¹¶ä¸ä¼šè‡ªåŠ¨mergeï¼‰æ¥è‡ªJohnçš„è¿œç¨‹`feature`åˆ†æ”¯åï¼Œä½ çš„repositoryå¯èƒ½å¦‚ä¸‹æ‰€ç¤ºï¼š\n\n![åœ¨åŒä¸€ä¸ªfeatureåˆ†æ”¯ä¸Šè¿›è¡Œåä½œ](https://fastly.jsdelivr.net/gh/Xe-Persistent/CDN-source/image/post/git-merge-and-rebase/08.svg)\n\nä½ å¯ä»¥åˆå¹¶æ¥è‡ªä¸Šæ¸¸çš„åˆ†å‰ï¼šè¦ä¹ˆç”¨`john/feature`**merge**æœ¬åœ°`feature`ï¼Œè¦ä¹ˆ**rebase**æœ¬åœ°`feature`åˆ°`john/feature`çš„é¡¶éƒ¨ã€‚\n\n![åˆå¹¶ä¸å˜åŸºåˆ°è¿œç¨‹åˆ†æ”¯](https://fastly.jsdelivr.net/gh/Xe-Persistent/CDN-source/image/post/git-merge-and-rebase/09.svg)\n\nè¯·æ³¨æ„ï¼Œæ­¤rebaseä¸è¿å**Rebase é»„é‡‘è§„åˆ™**ï¼Œå› ä¸ºåªæœ‰ä½ çš„æœ¬åœ°`feature`æäº¤è¢«ç§»åŠ¨ï¼Œä¹‹å‰çš„æ‰€æœ‰å†…å®¹éƒ½ä¸ä¼šå—åˆ°å½±å“ã€‚è¿™å°±åƒæ˜¯è¯´ã€Œå°†æˆ‘çš„æ›´æ”¹æ·»åŠ åˆ°Johnå·²ç»å®Œæˆçš„å·¥ä½œä¸­ã€ã€‚åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œè¿™æ¯”é€šè¿‡åˆå¹¶æäº¤ä¸è¿œç¨‹åˆ†æ”¯åŒæ­¥æ›´ç›´è§‚ã€‚\n\né»˜è®¤æƒ…å†µä¸‹ï¼Œä½¿ç”¨`git pull`å‘½ä»¤æ‰§è¡Œåˆå¹¶ï¼Œä½†ä½ å¯ä»¥é€šè¿‡å‘å…¶ä¼ é€’`--rebase`é€‰é¡¹æ¥å¼ºåˆ¶å®ƒå°†è¿œç¨‹åˆ†æ”¯ä»¥rebaseæ–¹å¼é›†æˆã€‚\n\n```powershell\ngit pull --rebase\n```\n\n## ä½¿ç”¨Pullè¯·æ±‚Review Feature\nå¦‚æœä½ åœ¨ä»£ç å®¡æŸ¥è¿‡ç¨‹ä¸­ä½¿ç”¨pullè¯·æ±‚ï¼Œåœ¨ä½¿ç”¨äº†pullè¯·æ±‚ä¹‹åä½ åº”è¯¥é¿å…ä½¿ç”¨`git rebase`ã€‚ä¸€æ—¦ä½ å‘å‡ºpullè¯·æ±‚ï¼Œå…¶ä»–å¼€å‘äººå‘˜å°±ä¼šæŸ¥çœ‹ä½ çš„æäº¤ï¼Œè¿™æ„å‘³ç€å®ƒæ˜¯ä¸€ä¸ª**å…¬å…±**åˆ†æ”¯ã€‚é‡å†™å…¶å†å²è®°å½•å°†ä½¿Gitå’Œä½ çš„é˜Ÿå‹æ— æ³•è·Ÿè¸ªæ·»åŠ åˆ°è¯¥åŠŸèƒ½çš„ä»»ä½•åç»­æäº¤ã€‚\n\nå…¶ä»–å¼€å‘äººå‘˜çš„ä»»ä½•æ›´æ”¹éƒ½éœ€è¦åˆå¹¶`git merge`è€Œä¸æ˜¯`git rebase`ã€‚\n\nå› æ­¤ï¼Œåœ¨æäº¤æ‹‰å–è¯·æ±‚ä¹‹å‰ï¼Œé€šå¸¸ä½¿ç”¨äº¤äº’å¼rebaseæ¸…ç†ä»£ç æ˜¯ä¸ªå¥½çš„åŠæ³•ã€‚æ³¨æ„ä½¿ç”¨é¡ºåºã€‚\n\n## é›†æˆå·²æ‰¹å‡†çš„åŠŸèƒ½\nåœ¨ä½ çš„å›¢é˜Ÿæ‰¹å‡†æŸé¡¹featureåï¼Œä½ å¯ä»¥é€‰æ‹©å°†è¯¥åŠŸèƒ½rebaseåˆ°`master`åˆ†æ”¯çš„é¡¶ç«¯ï¼Œç„¶å`git merge`å†å°†è¯¥åŠŸèƒ½é›†æˆåˆ°ä¸»ä»£ç åº“ä¸­ã€‚\n\nè¿™ä¸å°†ä¸Šæ¸¸æ›´æ”¹åˆå¹¶åˆ°featureåˆ†æ”¯ä¸­çš„æƒ…å†µç±»ä¼¼ï¼Œä½†ç”±äºä½ ä¸å…è®¸åœ¨`master`åˆ†æ”¯ä¸­é‡å†™æäº¤ï¼Œå› æ­¤ä½ å¿…é¡»æœ€ç»ˆä½¿ç”¨`git merge`è¯¥åŠŸèƒ½è¿›è¡Œé›†æˆã€‚ä½†æ˜¯ï¼Œé€šè¿‡åœ¨mergeä¹‹å‰æ‰§è¡Œrebaseï¼Œä½ å¯ä»¥ç¡®ä¿ä¼šä»¥`fast-forward`æ–¹å¼mergeï¼Œä»è€Œäº§ç”Ÿå®Œç¾çš„çº¿æ€§å†å²è®°å½•ã€‚\n\n> `fast-forward`æŒ‡çš„æ˜¯mergeä¹‹åä¸ä¼šå‡ºç°æ–°çš„commitå¯¹è±¡ï¼Œåˆ†æ”¯çš„åˆå¹¶çº¿æ˜¯ä¸€æ¡ç›´çº¿ï¼Œè¢«åˆå¹¶çš„åˆ†æ”¯ï¼Œæ²¡æœ‰åˆ†å‰ï¼Œä¼šä¸¢å¤±ï¼Œå†çœ‹ä¸åˆ°è¯¥åˆ†æ”¯å†å²ã€‚ç›¸å¯¹åœ°ï¼Œ`no-fast-forward`æ–¹å¼mergeä¹‹åä¼šå‡ºç°ä¸€ä¸ªmerge commitå¯¹è±¡ï¼Œåˆ†æ”¯çš„åˆå¹¶çº¿åœ¨ä¸»å¹²å¤–å‡ºç°ä¸€æ¡åˆ†å‰ï¼Œåœ¨mergeèŠ‚ç‚¹å¤„åˆå¹¶ä¸ºä¸»å¹²ã€‚\n\n![ä½¿ç”¨å’Œä¸ä½¿ç”¨rebaseå°†featureé›†æˆåˆ°masterä¸­](https://fastly.jsdelivr.net/gh/Xe-Persistent/CDN-source/image/post/git-merge-and-rebase/10.svg)\n\nå¦‚æœæ‚¨ä¸ç†Ÿæ‚‰`git rebase`ï¼Œå¯ä»¥éšæ—¶åœ¨ä¸´æ—¶åˆ†æ”¯ä¸­æ‰§è¡Œrebaseã€‚è¿™æ ·ï¼Œå¦‚æœä½ ä¸å°å¿ƒå¼„ä¹±äº†åŠŸèƒ½çš„å†å²è®°å½•ï¼Œå¯ä»¥æŸ¥çœ‹åŸå§‹åˆ†æ”¯ï¼Œç„¶åé‡è¯•ã€‚ä¾‹å¦‚ï¼š\n\n```powershell\ngit checkout feature\ngit checkout -b temporary-branch\ngit rebase -i master\n# [Clean up the history]\ngit checkout master\ngit merge temporary-branch\n```\n\n# æ€»ç»“\nå¦‚æœä½ æ›´å–œæ¬¢æ²¡æœ‰ä¸å¿…è¦çš„å¹²å‡€çš„åˆå¹¶æäº¤ï¼Œçº¿æ€§å†å²è®°å½•ï¼Œä½ å°±éœ€è¦å¼€å§‹äº†è§£ä½¿ç”¨rebaseåŠŸèƒ½ã€‚åŒæ—¶ä½ åº”è¯¥ä½¿ç”¨`git rebase`è€Œä¸æ˜¯`git merge`é›†æˆæ¥è‡ªå¦ä¸€ä¸ªåˆ†æ”¯çš„æ›´æ”¹ã€‚\n\nå¦ä¸€æ–¹é¢ï¼Œå¦‚æœä½ æƒ³ä¿ç•™é¡¹ç›®çš„å®Œæ•´å†å²è®°å½•å¹¶é¿å…é‡å†™å…¬å…±æäº¤çš„é£é™©ï¼Œä½ å¯ä»¥åšæŒä½¿ç”¨`git merge`ã€‚è¿™ä¸¤ç§é€‰æ‹©éƒ½æ˜¯å®Œå…¨æœ‰æ•ˆçš„ï¼Œä½†è‡³å°‘ç°åœ¨ä½ å¯ä»¥é€‰æ‹©åˆ©ç”¨`git rebase`çš„å¥½å¤„ ã€‚\n\n\n---\n**éå¸¸æ„Ÿè°¢ä½ çš„é˜…è¯»ï¼Œè¾›è‹¦äº†ï¼**\n\n---\næœ¬æ–‡è½¬è‡ªå…¬ä¼—å·ã€Œæ—¥æ‹±ä¸€å…µã€çš„æ–‡ç« [git rebase VS git mergeï¼Ÿæ›´ä¼˜é›…çš„gitåˆå¹¶æ–¹å¼å€¼å¾—æ‹¥æœ‰](https://www.cnblogs.com/FraserYu/p/11192840.html)\n","tags":["Git"],"categories":["ç»éªŒåˆ†äº«"]},{"title":"å¦‚ä½•ä½¿ç”¨Gitç®¡ç†hexoåšå®¢é¡¹ç›®ä»“åº“","url":"/posts/8d70d0c84034.html","content":"# å‰è¨€\nåœ¨æ—¥å¸¸å†™åšå®¢çš„æ—¶å€™ï¼Œæˆ‘ä¸€èˆ¬ä¼šåœ¨å¤šå°ç”µè„‘ä¸Šå†™ä½œï¼Œç„¶ååœ¨æœ¬åœ°ç”Ÿæˆé™æ€é¡µé¢ï¼Œéƒ¨ç½²åˆ°`GitHub Page`ï¼›æ­¤å¤–ï¼Œåšå®¢çš„æºä»£ç ä¹Ÿéœ€è¦åœ¨å¤šå°ç”µè„‘ä¹‹é—´åŒæ­¥ï¼Œä¿è¯åœ¨éƒ¨ç½²é¡µé¢æ—¶çš„ä¸€è‡´æ€§ã€‚å› æ­¤ï¼Œç®¡ç†å¥½åšå®¢çš„è¿œç¨‹ä»“åº“æ˜¯éå¸¸æœ‰å¿…è¦çš„ã€‚ä»Šå¤©å°±å’Œå¤§å®¶åˆ†äº«ä¸€ä¸‹ï¼Œæˆ‘å¹³æ—¶æ˜¯å¦‚ä½•ç®¡ç†hexoåšå®¢é¡¹ç›®ä»“åº“çš„ã€‚\n\n# ç®¡ç†åˆ†æ”¯\nhexoåšå®¢é¡¹ç›®çš„ä½¿ç”¨ç¯å¢ƒä¸ºä¸ªäººé¡¹ç›®ï¼Œå› æ­¤æ— éœ€è¿‡å¤šå…³æ³¨å¤šäººåä½œæƒ…å†µä¸‹`Git`çš„æ³¨æ„äº‹é¡¹ã€‚æˆ‘ä»¬å®Œå…¨å¯ä»¥è‡ªå·±å®šä¹‰ä¸€å¥—è§„çŸ©ï¼Œåœ¨å†™ä½œæ—¶éµå®ˆå³å¯ã€‚\n\n`hexo deploy`å‘½ä»¤ä¼šå¼ºè¡Œè¦†ç›–è¿œç¨‹ä»“åº“çš„é™æ€é¡µé¢æ–‡ä»¶ï¼Œå› æ­¤æœ‰å¿…è¦å°†é¡µé¢æ–‡ä»¶ä¸æºä»£ç åˆ†å¼€å­˜å‚¨ã€‚å¯ä»¥å¦å¤–åˆ›å»ºä¸€ä¸ªä»“åº“ï¼Œä¹Ÿå¯ä»¥æ–°å»ºä¸€ä¸ªåˆ†æ”¯ï¼Œä¸¤ä¸ªåˆ†æ”¯å­˜å‚¨ä¸åŒçš„æ–‡ä»¶ã€‚æˆ‘ä½¿ç”¨çš„æ–¹æ¡ˆæ˜¯æ–°å»ºä¸€ä¸ªåˆ†æ”¯ã€‚\n\n## ä½¿ç”¨ä¸åŒåˆ†æ”¯\nåœ¨åšå®¢çš„æ ¹ç›®å½•ä¸‹æ‰¾åˆ°`_config.yml`æ–‡ä»¶ï¼Œä¿®æ”¹`deploy`é…ç½®å¦‚ä¸‹ï¼š\n\n```yml\ndeploy:\n    type: git\n    repository: // å¡«å†™ä½ çš„ä»“åº“åœ°å€\n    branch: master\n```\n\nè¿™æ—¶ï¼Œ`hexo deploy`å‘½ä»¤ä¼šå°†ç«™ç‚¹æ–‡ä»¶æ¨é€è‡³é»˜è®¤çš„`master`åˆ†æ”¯ã€‚æˆ‘ä»¬å¯ä»¥åœ¨`GitHub`ä¸­æ–°å»ºä¸€ä¸ª`hexo`åˆ†æ”¯ï¼Œåœ¨æœ¬åœ°ä¹Ÿæ–°å»ºä¸€ä¸ª`hexo`åˆ†æ”¯ï¼Œç„¶ååˆ‡æ¢è‡³`hexo`åˆ†æ”¯ï¼Œå°†æºä»£ç `push`åˆ°è¿œç¨‹çš„`origin/hexo`ä¸Šï¼Œå¹¶å°†å…¶è®¾ç½®ä¸ºé»˜è®¤åˆ†æ”¯ã€‚è¿™æ ·çš„å¥½å¤„æ˜¯æ¯æ¬¡æ‰§è¡Œ`git clone`å‘½ä»¤æ—¶æ— éœ€å…³æ³¨å…‹éš†çš„æ˜¯å“ªä¸€ä¸ªåˆ†æ”¯ï¼Œå› ä¸ºé»˜è®¤å…‹éš†çš„æ˜¯æºä»£ç è€Œä¸æ˜¯ç«™ç‚¹æ–‡ä»¶ã€‚ä¹‹åï¼Œæ¯æ¬¡æ‰§è¡Œ`hexo deploy`ï¼Œéƒ½ä¼šåˆ›å»ºä¸€ä¸ªæäº¤ä¿¡æ¯ä¸ºéƒ¨ç½²æ—¶é—´çš„commitï¼Œå¹¶åˆ·æ–°é¡µé¢ã€‚\n\näºæ˜¯ï¼Œ`hexo`åˆ†æ”¯çš„æäº¤å†å²åæ˜ äº†æˆ‘ä»¬å¯¹åšå®¢çš„é¡µé¢åšå‡ºçš„æ”¹åŠ¨ï¼Œ`master`åˆ†æ”¯çš„æäº¤å†å²åæ˜ äº†é¡µé¢çš„æ›´æ–°å†å²ã€‚\n\n## åˆå¹¶ä¿®æ”¹\nå½“æˆ‘åœ¨ä¸€å°ç”µè„‘ä¸Šå†™ä½œæˆ–ä¿®æ”¹æºä»£ç å¹¶æ¨é€è‡³è¿œç¨‹ä»“åº“åï¼Œå¦‚æœè¦åœ¨å¦ä¸€å°ç”µè„‘ä¸Šç»§ç»­ä½œä¸šï¼Œæ­£ç¡®çš„åšæ³•æ˜¯å…ˆæ‰§è¡Œ`git fetch`å‘½ä»¤æ‹‰å–è¿œç¨‹ä»“åº“çš„ä»£ç ï¼Œå†æ‰§è¡Œ`git pull`å‘½ä»¤åŒæ­¥ä¹‹å‰åšçš„ä¿®æ”¹ï¼Œä¿è¯ä¸€è‡´æ€§åå†å®Œæˆå·¥ä½œã€‚å¦‚æœæˆ‘ä¸å°å¿ƒå¿˜è®°è¿™ä¸€æ¬¡åŒæ­¥å‘¢ï¼Ÿç›´æ¥åœ¨æœ¬åœ°ç»§ç»­å·¥ä½œï¼Œç„¶åæäº¤ã€‚å¦‚æœä¿®æ”¹çš„ä¸æ˜¯å‰ä¸€å°ç”µè„‘æ›´æ”¹çš„æ–‡ä»¶ï¼Œé‚£å€’ä¸ä¼šäº§ç”Ÿä»€ä¹ˆå½±å“ï¼Œåªéœ€è¦è¡¥åšå‰é¢åŒæ­¥çš„æ“ä½œå³å¯ã€‚å¦‚æœæ°å¥½ä¿®æ”¹äº†å‰ä¸€å°ç”µè„‘æ›´æ”¹çš„æ–‡ä»¶ï¼Œé‚£ä¹ˆæ˜¾ç„¶ä¼šäº§ç”Ÿå†²çªã€‚\n\nåœ¨å¤šäººååŠ©çš„é¡¹ç›®ä¸­ï¼Œå†²çªä¹Ÿæ˜¯æ—¶æœ‰å‘ç”Ÿï¼Œæˆ‘ä»¬ä¸€èˆ¬ä¼šé‡‡ç”¨æ‰§è¡Œ`git merge`å‘½ä»¤ç„¶åæ‰‹åŠ¨è§£å†³å†²çªçš„æ–¹å¼ï¼Œè¿™æ ·ä¼šåœ¨åˆ†æ”¯ä¸Šäº§ç”Ÿä¸€ä¸ªåˆ†å‰ï¼Œç„¶ååˆå¹¶ï¼ŒåŒæ—¶äº§ç”Ÿä¸€æ¡`merge`ä¿¡æ¯æç¤ºè¿™é‡Œæ›¾è¿›è¡Œè¿‡åˆå¹¶ï¼Œ`Git`ä¼šå®Œæ•´è®°å½•ä¸‹æˆ‘ä»¬å¯¹åˆ†æ”¯è¿›è¡Œçš„æ¯ä¸€æ¬¡æäº¤ã€‚\n\nç„¶è€Œï¼Œå¯¹äºä¸ªäººé¡¹ç›®ï¼Œæˆ‘ä¸å¸Œæœ›æˆ‘çš„åˆ†æ”¯äº§ç”Ÿå¤šä½™çš„åˆ†å‰ï¼Œæˆ‘æƒ³è¦è®©å†å²æäº¤è®°å½•ä¿æŒä¸€æ¡å¹²å‡€çš„ç›´çº¿ï¼Œè¿™æ—¶å¯ä»¥ä½¿ç”¨`git rebase`å‘½ä»¤ä»£æ›¿`git merge`ï¼Œå°†æœ¬åœ°çš„ä¿®æ”¹æ”¾åˆ°è¿œç¨‹ä»“åº“ä¸Šæ¬¡ä¿®æ”¹çš„åé¢ï¼Œä½¿åšå®¢çš„æ›´æ–°å†å²æ—¢ç¬¦åˆæ—¶é—´çº¿åˆä¸äº§ç”Ÿåˆ†å‰ã€‚\n\n# ç®¡ç†æäº¤ä¿¡æ¯\nä¸Šé¢æåˆ°ï¼Œåˆ†æ”¯ä¸Šçš„æ¯ä¸€æ¬¡æäº¤å°±æ˜¯åšå®¢æ›´æ–°çš„æ—¶é—´çº¿ã€‚é™¤äº†ä¿è¯åˆ†æ”¯çš„æäº¤å†å²æ¸…æ™°å¯è¾¨ï¼Œæäº¤çš„ä¿¡æ¯ä¹Ÿè¦åšåˆ°è¨€ç®€æ„èµ…ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œæäº¤ä¿¡æ¯è¦å†™æ˜è¿™æ¬¡æäº¤ä¿®æ”¹äº†å“ªäº›å†…å®¹ï¼Œå¹¶å°½å¯èƒ½åœ°ç®€æ´ï¼Œè¿™æ ·åœ¨æµè§ˆåˆ†æ”¯çš„æäº¤å†å²æ—¶ï¼Œèƒ½æ¸…æ¥šåœ°æ˜ç™½æ¯æ¬¡æäº¤åšäº†ä»€ä¹ˆäº‹æƒ…ã€‚\n\n## ä½¿ç”¨amend\nå½“æˆ‘åœ¨æœ¬åœ°åšäº†ä¸€äº›ä¿®æ”¹åè¿›è¡Œäº†ä¸€æ¬¡commitï¼Œä¹‹ååˆåšäº†ä¸€äº›ä¿®æ”¹ï¼Œæƒ³å°†è¿™ä¸¤æ¬¡çš„ä¿®æ”¹åˆå¹¶åˆ°ä¸€ä¸ªcommitä¸­ï¼Œè¿™æ—¶å¯ä»¥ä½¿ç”¨`--amend`å‚æ•°ï¼ŒåŠ åˆ°`git commit`åé¢ï¼ŒåŒæ—¶è¿˜èƒ½ä¿®æ”¹ä¸Šä¸€æ¬¡æäº¤æ—¶çš„æäº¤ä¿¡æ¯ã€‚\n\nå¦‚æœå·²ç»å°†ä¸Šä¸€æ¬¡ä¿®æ”¹pushåˆ°äº†è¿œç¨‹ä»“åº“ï¼Œæˆ‘ä»¬ä¹Ÿèƒ½ä½¿ç”¨`git commit --amend`å‘½ä»¤ï¼Œä½†æ‰§è¡Œ`git push`å‘½ä»¤æ—¶ï¼Œéœ€è¦åŠ ä¸Š`--force`å‚æ•°å¼ºåˆ¶æ¨é€åˆ°è¿œç¨‹ä»“åº“\n\nä½¿ç”¨`WebStorm`æ—¶ï¼Œåªéœ€åœ¨commitç•Œé¢å‹¾é€‰`amend`å¤é€‰æ¡†å³å¯ã€‚å¦‚æœéœ€è¦å¼ºåˆ¶æ¨é€ï¼Œåœ¨pushæ—¶å±•å¼€æŒ‰é’®é€‰æ‹©`force push`å³å¯ã€‚\n\n## ä½¿ç”¨rebase\nå¦‚æœéœ€è¦ä¿®æ”¹å‰å‡ æ¬¡çš„æäº¤ä¿¡æ¯ï¼Œå¯ä»¥ä½¿ç”¨`git rebase -i`å‘½ä»¤ï¼Œå…·ä½“ä½¿ç”¨æ–¹æ³•å¦‚ä¸‹ï¼š\n\n```powershell\ngit rebase -i HEAD~2 // 2 è¡¨ç¤ºæœ€è¿‘ä¸¤æ¡commit\ngit rebase -i {commitID} // ä¾‹å¦‚ git rebase -i d95ddfb\ngit rebase -i --root // è¡¨ç¤ºä»ç¬¬ä¸€æ¡commitå¼€å§‹ç¼–è¾‘\n```\n> æŒ‡å®š`HEAD~`åé¢çš„æ•°å­—è¡¨ç¤ºç¼–è¾‘æœ€è¿‘è‹¥å¹²æ¡commit  \n> æŒ‡å®š`commit ID`è¡¨ç¤ºç¼–è¾‘è¿™æ¡commitä¹‹å‰çš„è®°å½•  \n> æŒ‡å®š--rootå‚æ•°è¡¨ç¤ºä»ç¬¬ä¸€æ¡commitå¼€å§‹ç¼–è¾‘\n\næ‰§è¡Œrebaseå‘½ä»¤åï¼Œä¼šå‡ºç°rebaseçš„ç¼–è¾‘çª—å£ï¼Œçª—å£åº•ä¸‹ä¼šæœ‰æç¤ºæ€ä¹ˆæ“ä½œã€‚\n\nè¿™é‡Œæœ‰å‡ ç§ä¿®æ”¹é€‰é¡¹ï¼š\n\n- `pick`ï¼šä¿ç•™è¯¥commit\n- `reword`ï¼šä¿ç•™è¯¥commitï¼Œä½†æˆ‘éœ€è¦ä¿®æ”¹è¯¥commitçš„Message\n- `edit`ï¼šä¿ç•™è¯¥commitï¼Œä½†æˆ‘è¦åœä¸‹æ¥ä¿®æ”¹è¯¥æäº¤(åŒ…æ‹¬ä¿®æ”¹æ–‡ä»¶)\n- `squash`ï¼šå°†è¯¥commitå’Œå‰ä¸€ä¸ªcommitåˆå¹¶\n- `fixup`ï¼šå°†è¯¥commitå’Œå‰ä¸€ä¸ªcommitåˆå¹¶ï¼Œä½†æˆ‘ä¸è¦ä¿ç•™è¯¥æäº¤çš„æ³¨é‡Šä¿¡æ¯\n- `exec`ï¼šæ‰§è¡Œshellå‘½ä»¤\n- `drop`ï¼šä¸¢å¼ƒè¿™ä¸ªcommit\n\næŒ‰å­—æ¯`O`é”®è¿›å…¥ç¼–è¾‘çŠ¶æ€ï¼Œå¼€å§‹ä¿®æ”¹å†…å®¹ã€‚\n\næŒ‰`Esc`é”®é€€å‡ºç¼–è¾‘çŠ¶æ€ï¼Œå¯ä»¥è¾“å…¥å„ç§å‘½ä»¤ï¼Œæœ€å¸¸ç”¨çš„æ˜¯è¾“å…¥`:q`ç›´æ¥é€€å‡ºï¼Œè¾“å…¥`:wq`è¿›è¡Œä¿å­˜å¹¶é€€å‡ºã€‚\n\nä¿®æ”¹å®Œæˆåï¼Œæ‰§è¡Œ`git push --force`å‘½ä»¤æ¨é€è‡³è¿œç¨‹ä»“åº“å³å¯ã€‚\n\n## UIäº¤äº’å¼rebase\nä¸Šé¢ä½¿ç”¨å‘½ä»¤è¡Œçª—å£ç¼–è¾‘æäº¤ä¿¡æ¯çš„æ“ä½œéå¸¸ç¹çï¼Œå¦‚æœä½¿ç”¨`WebStorm`æ¥æ“ä½œä¼šéå¸¸ç®€å•ã€‚åªéœ€æ‰“å¼€`Git`æ ‡ç­¾é¡µï¼Œåœ¨ä¸­é—´çš„åˆ†æ”¯ä¸Šé€‰æ‹©ä½ è¦ç¼–è¾‘çš„èµ·å§‹commitï¼Œå³é”®é€‰æ‹©`Interactively Rebase From Here`ï¼Œç„¶ååœ¨å¼¹å‡ºçš„çª—å£ä¸­ç¼–è¾‘æ¯ä¸€æ¡è¦ä¿®æ”¹çš„commitå³å¯ã€‚\n\n## é‡ç½®ä»£ç \nå¦‚æœé‡åˆ°ä¸¥é‡çš„é—®é¢˜ï¼Œæƒ³è¦å¼ºåˆ¶æ‹‰å–å¹¶è¦†ç›–æœ¬åœ°ä»£ç ï¼Œå¯ä»¥ä½¿ç”¨`git reset`å°†æœ¬åœ°åˆ†æ”¯é‡ç½®åˆ°è¿œç¨‹åˆ†æ”¯çš„æœ€æ–°æäº¤ã€‚\n\n```powershell\ngit fetch --all\ngit reset --hard origin/hexo\n```\n\n# ä½¿ç”¨Gitmoji\næ­¤å¤–ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥åœ¨æ¯æ¡æäº¤ä¿¡æ¯å‰æ’å…¥ä¸€äº›çº¦å®šå¥½çš„`emoji`è¡¨æƒ…ï¼Œä½¿å¾—commitä¿¡æ¯æ›´åŠ ç”ŸåŠ¨å½¢è±¡ã€‚å› ä¸ºæ˜¯ä½¿ç”¨åœ¨`Git`é‡Œçš„ï¼Œæ‰€ä»¥è¢«ç§°ä¸º`Gitmoji`ã€‚æˆ‘èŠ‚é€‰äº†ä¸€äº›å†…å®¹ï¼Œæ›´å¤šç”¨æ³•å¯ä»¥å‚è€ƒå®ƒçš„[å®˜ç½‘](https://gitmoji.dev/)ã€‚\n\n| emoji | emojiä»£ç                 | è¯´æ˜              |\n|-------|------------------------|-----------------|\n| ğŸ¨    | :art:                  | æ”¹è¿›ä»£ç ç»“æ„/ä»£ç æ ¼å¼     |\n| âš¡ï¸    | :zap:                  | æå‡æ€§èƒ½            |\n| ğŸ”¥    | :fire:                 | ç§»é™¤ä»£ç æˆ–æ–‡ä»¶         |\n| ğŸ›    | :bug:                  | ä¿®å¤bug           |\n| âª     | :rewind:               | å›é€€ä¿®æ”¹            |\n| ğŸ“¦    | :package:              | ä¸Šä¼ å·²ç»å®Œæˆç¼–è¯‘æˆ–è€…æ‰“åŒ…çš„é¡¹ç›® |\n| ğŸ‘½    | :alien:                | APIå‘ç”Ÿæ”¹å˜         |\n| ğŸšš    | :truck:                | ç§»åŠ¨æˆ–è€…é‡å‘½åæ–‡ä»¶       |\n| ğŸ“„    | :page_facing_up:       | æ·»åŠ æˆ–è€…å‡çº§è¯ä¹¦        |\n| ğŸ’¥    | :boom:                 | æœ‰ç»“æ„æ€§ç ´åçš„ä¿®æ”¹       |\n| ğŸ±    | :bento:                | æ·»åŠ èµ„æº            |\n| ğŸ”    | :mag:                  | æ”¹è¿›æœç´¢æ–¹å¼          |\n| ğŸ¥…    | :goal_net:             | å‘ç°é”™è¯¯            |\n| ğŸ’«    | :dizzy:                | æ·»åŠ äº†åŠ¨ç”»           |\n| ğŸ—‘    | :wastebasket:          | è¿‡æœŸä»£ç éœ€è¦è¢«æ¸…ç†       |\n| ğŸš‘    | :ambulance:            | å…³é”®è¡¥ä¸            |\n| âœ¨     | :sparkles:             | å¼•å…¥æ–°çš„åŠŸèƒ½          |\n| ğŸ“    | :memo:                 | å†™READMEæ–‡æ¡£       |\n| ğŸš€    | :rocket:               | éƒ¨ç½²åŠŸèƒ½            |\n| ğŸ’„    | :lipstick:             | æ›´æ–°UIå’Œæ ·å¼æ–‡ä»¶       |\n| ğŸ‰    | :tada:                 | åˆæ¬¡æäº¤            |\n| ğŸ”–    | :bookmark:             | å‘è¡Œ/ç‰ˆæœ¬æ ‡ç­¾         |\n| â¬†ï¸    | :arrow_up:             | å‡çº§ä¾èµ–            |\n| â¬‡ï¸    | :arrow_down:           | é™çº§ä¾èµ–            |\n| â•     | :heavy_plus_sign:      | æ·»åŠ ä¾èµ–            |\n| â–     | :heavy_minus_sign:     | åˆ é™¤ä¾èµ–            |\n| ğŸ”¨    | :hammer:               | é‡æ„              |\n| ğŸ³    | :whale:                | Docker ç›¸å…³å·¥ä½œ     |\n| ğŸ”§    | :wrench:               | ä¿®æ”¹é…ç½®æ–‡ä»¶          |\n| ğŸŒ    | :globe_with_meridians: | å›½é™…åŒ–ä¸æœ¬åœ°åŒ–         |\n| âœï¸    | :pencil2:              | ä¿®å¤typo          |\n\n# å°ç»“\n- åšå®¢é¡¹ç›®ä½¿ç”¨ä¸¤ä¸ªåˆ†æ”¯åˆ†åˆ«å­˜å‚¨æºä»£ç å’Œç«™ç‚¹æ–‡ä»¶ï¼Œä¸¤ä¸ªåˆ†æ”¯çš„æäº¤å†å²åˆ†åˆ«åæ˜ äº†åšå®¢çš„é¡µé¢æ”¹åŠ¨ä¸é¡µé¢çš„æ›´æ–°å†å²ï¼›\n- ä½¿ç”¨`Git`å‘½ä»¤å¯ä»¥åˆå¹¶commitã€ä¿®æ”¹commitä¿¡æ¯ã€‚ä½¿ç”¨`WebStorm`æ“ä½œæ›´åŠ æ–¹ä¾¿ï¼›\n- ä½¿ç”¨`Gitmoji`å¯ä»¥ç”ŸåŠ¨å½¢è±¡åœ°æè¿°commitå†…å®¹ã€‚\n\n---\n**éå¸¸æ„Ÿè°¢ä½ çš„é˜…è¯»ï¼Œè¾›è‹¦äº†ï¼**\n\n---\nå‚è€ƒæ–‡ç« ï¼š (æ„Ÿè°¢ä»¥ä¸‹èµ„æ–™æä¾›çš„å¸®åŠ©)\n- [Rebase - å»–é›ªå³°çš„å®˜æ–¹ç½‘ç«™](https://www.liaoxuefeng.com/wiki/896043488029600/1216289527823648)\n- [git rebaseè¯¦è§£](https://blog.csdn.net/weixin_42310154/article/details/119004977)\n- [Git å¦‚ä½•ä¿®æ”¹å†å² Commit message](https://zhuanlan.zhihu.com/p/401811121)\n- [Gitä¿®æ”¹commitä¿¡æ¯æ–¹æ³•å¤§å…¨](https://blog.csdn.net/weixin_43314519/article/details/123317135)\n","tags":["Git","åšå®¢"],"categories":["ç»éªŒåˆ†äº«"]},{"title":"åˆè¯†MyBatis-Plus","url":"/posts/6a03ebbdc425.html","content":"# å‰è¨€\nåœ¨å‰é¢çš„Javaå­¦ä¹ ç¬”è®°ä¸­ï¼Œæˆ‘æåˆ°è¿‡ä¸¤æ¬¡`MyBatis-Plus`ï¼Œå¯èƒ½å¤§å®¶å·²ç»å¯¹è¿™ä¸ªåè¯æœ‰äº›è€³ç†Ÿã€‚æˆ‘å¯¹å®ƒçš„å®šä¹‰æ˜¯ï¼šä¸€ä¸ªæ–¹ä¾¿çš„æ“ä½œæ•°æ®åº“åŠŸèƒ½çš„å·¥å…·åŒ…ã€‚\n\nåœ¨å®ƒçš„å®˜æ–¹æ–‡æ¡£ä¸Šå†™é“ï¼š`MyBatis-Plus`æ˜¯ä¸€ä¸ª`MyBatis`çš„å¢å¼ºå·¥å…·ï¼Œåœ¨`MyBatis`çš„åŸºç¡€ä¸Š**åªåšå¢å¼ºä¸åšæ”¹å˜**ï¼Œä¸ºç®€åŒ–å¼€å‘ã€æé«˜æ•ˆç‡è€Œç”Ÿã€‚`MyBatis`ä¸`MyBatis-Plus`éƒ½æ˜¯`ORM`æ¡†æ¶ï¼ˆ*å¯¹è±¡-å…³ç³»æ˜ å°„æ¡†æ¶*ï¼‰ï¼Œå¯¹è±¡å’Œå…³ç³»æ•°æ®æ˜¯ä¸šåŠ¡å®ä½“çš„ä¸¤ç§è¡¨ç°å½¢å¼ï¼Œä¸šåŠ¡å®ä½“åœ¨å†…å­˜ä¸­è¡¨ç°ä¸º**å¯¹è±¡**ï¼Œåœ¨æ•°æ®åº“ä¸­è¡¨ç°ä¸º**å…³ç³»æ•°æ®**ã€‚å†…å­˜ä¸­çš„å¯¹è±¡ä¹‹é—´å­˜åœ¨å…³è”å’Œç»§æ‰¿å…³ç³»ï¼Œè€Œåœ¨æ•°æ®åº“ä¸­ï¼Œå…³ç³»æ•°æ®æ— æ³•ç›´æ¥è¡¨è¾¾å¤šå¯¹å¤šå…³è”å’Œç»§æ‰¿å…³ç³»ã€‚å› æ­¤ï¼Œå¯¹è±¡-å…³ç³»æ˜ å°„æ¡†æ¶(`ORM`)ä¸€èˆ¬ä»¥ä¸­é—´ä»¶çš„å½¢å¼å­˜åœ¨ï¼Œä¸»è¦å®ç°å¯¹è±¡åˆ°å…³ç³»æ•°æ®åº“æ•°æ®çš„æ˜ å°„ã€‚\n\nå½“æˆ‘ä»¬ç¼–å†™ä¸€ä¸ªåº”ç”¨ç¨‹åºæ—¶ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šå†™ç‰¹åˆ«å¤šæ•°æ®è®¿é—®å±‚çš„ä»£ç ï¼Œä»æ•°æ®åº“æ·»åŠ ã€åˆ é™¤ã€è¯»å–å¯¹è±¡ä¿¡æ¯ï¼Œè€Œè¿™äº›ä»£ç éƒ½æ˜¯é‡å¤çš„ï¼Œå¦‚æœä½¿ç”¨`ORM`åˆ™ä¼šå¤§å¤§å‡å°‘é‡å¤æ€§ä»£ç ã€‚åœ¨ä½¿ç”¨`MyBatis-Plus`çš„æ—¶å€™ï¼Œæˆ‘æ€»æ˜¯ä¸ºä¹‹æƒŠå¹ï¼šåŸæ¥æ•°æ®åº“æ“ä½œèƒ½è¿™ä¹ˆç®€å•ï¼äºæ˜¯æˆ‘å†™ä¸‹è¿™ç¯‡æ–‡ç« è®°å½•å®ƒçš„ä¸€äº›ä½¿ç”¨æ–¹æ³•ã€‚\n\n# åº”ç”¨\nå°†`MyBatis-Plus`å¼•å…¥`Spring`é¡¹ç›®éå¸¸å®¹æ˜“ï¼Œç½‘ä¸Šæœ‰è®¸å¤šå®ä¾‹ï¼Œåœ¨æ­¤ä¸åšè®²è§£ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä¸»è¦ä»‹ç»å¦‚ä½•ä½¿ç”¨`MyBatis-Plus`çš„æ¡ä»¶æ„é€ å™¨ç¼–å†™ä¸šåŠ¡é€»è¾‘ã€‚å¤§ä½“ä¸Šï¼Œ`MyBatis-Plus`ä»æ•°æ®åº“è¡¨åˆ°å‰ç«¯æ¥å£çš„ä¸šåŠ¡æµç¨‹æ˜¯`æ•°æ®åº“è¡¨->DTO->Mapper->Service->Controller`ï¼Œå› æ­¤ï¼Œæˆ‘å°†é¡ºç€è¿™æ¡æµç¨‹ä¾æ¬¡è®²è§£æ¯ä¸ªç¯èŠ‚è¦ä½¿ç”¨`MyBatis-Plus`ç¼–å†™å“ªäº›ä»£ç ã€‚\n\n## æ•°æ®åº“è¡¨\næˆ‘ä»¥ä¸€ä¸ªå­˜å‚¨æµ‹é‡è®¾å¤‡çš„æ•°æ®åº“è¡¨ä¸ºä¾‹ï¼Œç¼–å†™ä¸å®ƒç›¸å…³çš„å¢åˆ æ”¹æŸ¥æ¥å£ã€‚ä¸‹é¢æ˜¯å®ƒçš„è¡¨ç»“æ„ï¼š\n> MonitoringDevice\n\n| å­—æ®µ         | æ•°æ®ç±»å‹    | æ³¨é‡Š   |\n|------------|---------|------|\n| id         | bigint  | è®¾å¤‡id |\n| name       | varchar | è®¾å¤‡å  |\n| model      | varchar | è®¾å¤‡å‹å· |\n| type       | varchar | è®¾å¤‡ç±»å‹ |\n| illustrate | varchar | è¯´æ˜   |\n| location   | varchar | è®¾å¤‡ä½ç½® |\n| accuracy   | varchar | æµ‹é‡ç²¾åº¦ |\n| frequency  | varchar | æ ¡æ­£é¢‘ç‡ |\n\næ­¤å¤–ï¼Œè¿˜æœ‰ä¸€äº›ä¸è¯¥è¡¨å­˜åœ¨å…³è”çš„å…¶ä»–æ•°æ®è¡¨ï¼Œä¸»è¦é€šè¿‡**å¤–é”®**ä¸å…¶å…³è”ï¼Œåœ¨æ­¤ä¸åšä¸¾ä¾‹ã€‚\n\n## DTO\n`DTO`å³æ•°æ®ä¼ è¾“å¯¹è±¡ï¼Œæ˜¯æ•°æ®ä»åç«¯ä¼ è¾“åˆ°å‰ç«¯çš„è½½ä½“ã€‚å¤§ä½“ä¸Šï¼Œä¸€ä¸ª`DTO`è¦åŒ…å«ä¸€ä¸ªæ•°æ®åº“è¡¨çš„éƒ¨åˆ†æˆ–æ‰€æœ‰å­—æ®µä¿¡æ¯ã€‚ä¸ºäº†å‡å°‘é‡å¤ä»£ç ï¼Œæˆ‘å°†è¿™äº›è¡¨çš„é‡å¤å­—æ®µå•åˆ—å‡ºä¸€ä¸ª`ModelDTO`ï¼Œè®©å…¶ä»–çš„`DTO`ç»§æ‰¿è¿™ä¸ª`ModelDTO`ã€‚å»ºè®®ä½¿ç”¨`Lombok`æ’ä»¶æä¾›çš„`@Data`æ³¨è§£ï¼Œå¯ä»¥ä¸º`DTO`çš„ç§æœ‰æˆå‘˜è‡ªåŠ¨ç”Ÿæˆ`getter`å’Œ`setter`æ–¹æ³•ã€‚\n\n> ModelDTO.java\n```java\n@Data\npublic class ModelDTO {\n\n    private String name;\n\n    private Long id;\n}\n```\n\n> MonitoringDeviceDTO.java\n```java\n@EqualsAndHashCode(callSuper = true)\n@TableName(\"monitoringdevice\")\n@Data\npublic class MonitoringDeviceDTO extends ModelDTO {\n    private String model;\n\n    private String type;\n\n    private String illustrate;\n\n    private String location;\n\n    private String accuracy;\n\n    private String frequency;\n}\n```\n\n## Mapper\n`Mapper`çš„ç¼–å†™éå¸¸ç®€å•ï¼Œåªéœ€ç»§æ‰¿`BaseMapper`å³å¯ï¼Œä»¥`MonitoringDeviceMapper`ä¸ºä¾‹ï¼š\n\n> MonitoringDeviceMapper.java\n```java\n@Mapper\npublic class MonitoringDeviceMapper extends BaseMapper<MonitoringDeviceDTO> {\n\n}\n```\n\n## Service\näº‹å®ä¸Šï¼Œè¿™äº›`Mapper`ç»§æ‰¿`BaseMapper`åå·²ç»ä¸ºæˆ‘ä»¬æä¾›äº†é»˜è®¤çš„`CRUD`æ¥å£å’Œä¸€äº›é»˜è®¤æ–¹æ³•ã€‚å½“è¿™äº›æ¥å£å’Œæ–¹æ³•ä¸æ»¡è¶³æˆ‘ä»¬éœ€è¦çš„åŠŸèƒ½æ—¶ï¼Œå°±éœ€è¦è‡ªè¡Œç¼–å†™`Service`ã€‚\n> `CRUD`æ˜¯æŒ‡åšè®¡ç®—å¤„ç†æ—¶çš„å¢åŠ (`Create`)ã€è¯»å–æŸ¥è¯¢(`Retrieve`)ã€æ›´æ–°(`Update`)å’Œåˆ é™¤(`Delete`)å‡ ä¸ªå•è¯çš„é¦–å­—æ¯ç®€å†™ã€‚ä»£è¡¨äº†æ•°æ®åº“æˆ–æŒä¹…å±‚çš„åŸºæœ¬æ“ä½œåŠŸèƒ½ã€‚\n\nå®šä¹‰`Service`ç±»æ—¶ï¼Œåœ¨ç§æœ‰å˜é‡`Mapper`å‰åŠ ä¸Š`@Autowired`æ³¨è§£ã€‚\n\n> MonitoringDeviceService.java\n```java\n@Service\npublic class MonitoringDeviceService {\n    @Autowired\n    private MonitoringDeviceMapper monitoringDeviceMapper;\n}\n```\n\n### å¢åŠ å’Œç¼–è¾‘æ•°æ®\né¦–å…ˆæ˜¯å¢åŠ å’Œç¼–è¾‘æ•°æ®çš„é€»è¾‘ã€‚è¿™é‡Œä¸ºäº†ä¾¿äºç»´æŠ¤ä»£ç ï¼Œæˆ‘å®šä¹‰äº†`RequestBody`ä½œä¸ºä¸¤ä¸ªæ–¹æ³•çš„å…¥å‚ã€‚\n\nåœ¨å¢åŠ æ–¹æ³•ä¸­ï¼Œæˆ‘æ·»åŠ äº†åˆ¤æ–­å…¥å‚å­—æ®µæ˜¯å¦åˆæ³•çš„é€»è¾‘ï¼Œç„¶åè°ƒç”¨`insert()`æ–¹æ³•æ’å…¥ä¸€è¡Œæ•°æ®ã€‚\n\nç”±äº`DTO`ä¸`RequestBody`éƒ½æ˜¯`JavaBean`ï¼Œå¯ä»¥ä½¿ç”¨`BeanUtils`çš„`copyProperties()`æ–¹æ³•å°†`RequestBody`çš„å‚æ•°å¤åˆ¶ç»™`DTO`ã€‚\n\n```java\npublic Boolean addDevice(AddMonitoringDeviceReq device) {\n    if (!DetermineEnum.isInclude(device.getType())) {\n        throw new ParamException(\"å‚æ•°ä¸æ”¯æŒ\");\n    }\n    MonitoringDeviceDTO instance = new MonitoringDeviceDTO();\n    BeanUtils.copyProperties(device, instance);\n    monitoringDeviceMapper.insert(instance);\n    return true;\n}\n```\n\nåœ¨ç¼–è¾‘æ–¹æ³•ä¸­ï¼Œä½¿ç”¨é“¾å¼æ¡ä»¶æ„é€ å™¨`LambdaQueryChainWrapper`æ ¹æ®ä¼ å…¥çš„å®ä½“`id`æŸ¥è¯¢`Device`è¡¨ä¸­æ˜¯å¦æœ‰å¯¹åº”çš„æ•°æ®ï¼Œ`eq()`å®šä¹‰äº†ä¸€ä¸ªç›¸ç­‰æ¡ä»¶è¿›è¡ŒæŸ¥è¯¢ï¼Œå†ä½¿ç”¨`exists()`æ–¹æ³•è¿”å›å¸ƒå°”å€¼ï¼Œä»¥åˆ¤æ–­æŸ¥è¯¢åˆ°çš„æ•°æ®æ˜¯å¦å­˜åœ¨ï¼Œæœ€åè°ƒç”¨`insert()`æ–¹æ³•å³å¯ã€‚\n> æ³¨æ„ï¼š`insert()`ä¼šè‡ªåŠ¨æ ¹æ®æ•°æ®æ˜¯å¦å­˜åœ¨ï¼Œå³æ’å…¥çš„æ˜¯å¦ä¸ºé‡å¤è¡Œï¼Œè‹¥ä¸å­˜åœ¨åˆ™æ–°å¢ä¸€æ¡æ•°æ®ï¼Œè‹¥å­˜åœ¨åˆ™ç¼–è¾‘è¯¥æ¡æ•°æ®ã€‚\n\n```java\npublic MonitoringDeviceDTO editDevice(EditMonitoringDeviceReq device) {\n    boolean exists = new LambdaQueryChainWrapper<>(monitoringDeviceMapper)\n            .eq(MonitoringDeviceDTO::getId, device.getId()).exists();\n    if (!exists) {\n        throw new NotFoundException(\"è®¾å¤‡ä¸å­˜åœ¨\");\n    }\n    MonitoringDeviceDTO instance = new MonitoringDeviceDTO();\n    BeanUtils.copyProperties(device, instance);\n    return monitoringDeviceMapper.insert(instance);\n}\n```\n\n### æŸ¥è¯¢æ•°æ®\nç„¶åæ˜¯æŸ¥è¯¢æ•°æ®çš„é€»è¾‘ã€‚é¦–å…ˆæ˜¯æœ€ç®€å•çš„æ ¹æ®`id`è·å–æ•°æ®ï¼Œåªéœ€è°ƒç”¨`selectById()`é»˜è®¤æ–¹æ³•å³å¯ã€‚\n\n```java\npublic MonitoringDeviceDTO getDeviceById(Long deviceId) {\n    if (Objects.isNull(deviceId)) {\n        return null;\n    }\n    return monitoringDeviceMapper.selectById(deviceId);\n}\n```\nä¹‹åæ˜¯æ ¹æ®`Determine`è¡¨çš„å­—æ®µæŸ¥è¯¢æ•°æ®ã€‚ç”±äº`Determine`è¡¨æ˜¯é€šè¿‡å¤–é”®`deviceId`ä¸è¯¥è¡¨çš„`id`è¿›è¡Œå…³è”çš„ï¼Œè¦æŸ¥è¯¢`Device`è¡¨çš„æ•°æ®ï¼Œé¦–å…ˆè¦è·å¾—`Determine`è¡¨çš„`deviceId`å­—æ®µï¼ŒæŒ‰ç…§è¿™ä¸ªé€»è¾‘ç¼–å†™æ¡ä»¶æ„é€ å™¨å³å¯ï¼Œä½¿ç”¨`one()`è¿”å›ä¸€è¡Œæ•°æ®ï¼Œä¹‹åè°ƒç”¨å‰é¢çš„`getDeviceById()`æ–¹æ³•ï¼Œä¼ å…¥è·å¾—çš„`deviceId`ã€‚\n\n```java\npublic MonitoringDeviceDTO getDeviceByParamId(Long paramId) {\n    if (Objects.isNull(paramId)) {\n        return null;\n    }\n    return getDeviceById(new LambdaQueryChainWrapper<>(determineMapper)\n            .eq(DetermineDTO::getCalcParamId, paramId)\n            .one().getDeviceId());\n}\n```\n\nç„¶åæ˜¯æ ¹æ®è®¾å¤‡ç±»å‹æ‰¹é‡è·å–æ•°æ®ï¼ŒåŒæ ·ä½¿ç”¨`eq()`å®šä¹‰ç›¸ç­‰æŸ¥è¯¢æ¡ä»¶ï¼Œä½¿ç”¨`list()`è¿”å›å¤šè¡Œæ•°æ®ï¼Œä»¥`list`æ•°ç»„çš„å½¢å¼ä½œä¸ºè¿”å›å€¼ã€‚\n\n```java\npublic List<MonitoringDeviceDTO> getDeviceByType(String type) {\n    if (!DetermineEnum.isInclude(type)) {\n        throw new ParamException(\"ç±»å‹ä¸æ”¯æŒ\");\n    }\n    return new LambdaQueryChainWrapper<>(monitoringDeviceMapper)\n            .eq(MonitoringDeviceDTO::getType, type).list();\n}\n```\n\næœ€åæ˜¯ä¸€ä¸ªç›¸å¯¹å¤æ‚çš„å¤šè¡¨è”åˆæŸ¥è¯¢çš„æ–¹æ³•ã€‚æ ¹æ®`Source`è¡¨çš„`id`è·å–ä¸ä¹‹å…³è”çš„è‹¥å¹²ä¸ª`CalcParam`ï¼Œå†ä¾æ¬¡è·å–è¿™äº›`CalcParam`çš„idï¼Œå­˜å…¥`paramIdList`ï¼Œç„¶ååœ¨`Determine`è¡¨ä¸­æŸ¥è¯¢`ObtainingMethod`å­—æ®µä¸º2ã€ä¸”`CalcParamId`ä¸åˆšæ‰`paramIdList`åŒ¹é…çš„æ•°æ®è¡Œï¼Œæœ€åæ ¹æ®è¿™äº›`Determine`è·å–è®¾å¤‡ã€‚\n\nåœ¨ä¸Šé¢è¿™ä¸²é€»è¾‘ä¸­ï¼Œé™¤äº†å‰é¢æåˆ°çš„`eq()`ç›¸ç­‰æ¡ä»¶å¤–ï¼Œè¿˜ä½¿ç”¨åˆ°äº†`in()`åŒ¹é…å­—æ®µæ¡ä»¶ï¼Œå¹¶åœ¨å…¶ä¸­ç©¿æ’ä½¿ç”¨`Stream`å¤„ç†å’Œè½¬æ¢æ•°æ®ï¼Œæ˜¯ä¸€æ¬¡`MyBatis-Plus`ä¸`Stream`çš„ç»¼åˆè¿ç”¨ã€‚\n\n```java\npublic List<MonitoringDeviceDTO> getDeviceBySource(Long sourceId) {\n    boolean exists = new LambdaQueryChainWrapper<>(emissionSourceMapper)\n            .eq(EmissionSourceDTO::getId, sourceId).exists();\n    if (!exists) {\n        throw new NotFoundException(\"æ•°æ®ä¸å­˜åœ¨\");\n    }\n    List<EmissionCalcParamDTO> emissionCalcParams = emissionSourceCalcParamMapper\n            .selectList(new QueryWrapper<>(EmissionCalcParamDTO.class)\n                    .treeNode(ModelLabelConstant.EMISSION_SOURCE, sourceId));\n    if (CollectionUtils.isEmpty(emissionCalcParams)) {\n        throw new DefaultCarbonException(\"å‚æ•°å¼‚å¸¸\");\n    }\n    List<Long> paramIdList = emissionCalcParams.stream()\n            .map(EmissionCalcParamDTO::getId)\n            .collect(Collectors.toList());\n    List<DetermineDTO> determineList = new LambdaQueryChainWrapper<>(determineMapper)\n            .eq(DetermineDTO::getObtainingMethod, 2)\n            .in(DetermineDTO::getCalcParamId, paramIdList)\n            .list();\n    return determineList.stream()\n            .map(DetermineDTO::getDeviceId)\n            .map(this::getDeviceById)\n            .collect(Collectors.toList());\n}\n```\n\n### åˆ é™¤æ•°æ®\næœ€åæ˜¯åˆ é™¤æ•°æ®çš„é€»è¾‘ï¼Œåˆ é™¤`Device`è¡¨çš„æ•°æ®åŒæ—¶è¦åˆ é™¤ä¸å…¶å…³è”çš„`MaintenanceRecord`è¡¨æ•°æ®ï¼Œå…ˆæ ¹æ®idæŸ¥è¯¢`MaintenanceRecord`è¡¨ä¸­æ‹¥æœ‰ä¸ä¹‹ç›¸åŒçš„`deviceId`å¤–é”®çš„æ•°æ®ï¼Œå†è½¬æ¢æˆ`id`ï¼Œä½¿ç”¨`deleteBatchIds()`æ–¹æ³•æ‰¹é‡åˆ é™¤å³å¯ï¼Œæœ€åè°ƒç”¨`deleteById()`æ–¹æ³•åˆ é™¤è®¾å¤‡ã€‚\n\n```java\npublic Boolean deleteDevice(Long deviceId) {\n    List<MaintenanceRecordDTO> records = maintenanceRecordService.getRecordByDeviceId(deviceId);\n    if (CollectionUtils.isNotEmpty(records)) {\n        monitoringDeviceMapper.deleteBatchIds(records.stream()\n                .map(MaintenanceRecordDTO::getId)\n                .collect(Collectors.toList()));\n    }\n    return monitoringDeviceMapper.deleteById(deviceId) == 1;\n}\n```\n\n## Controller\nä¸€èˆ¬ä½¿ç”¨`Spring`æ¡†æ¶çš„`RestController`å‘å‰ç«¯æä¾›æ¥å£ï¼Œæ ¹æ®ä¸åŒçš„æ¥å£ç±»å‹æ·»åŠ `@PostMapping`ã€`@GetMapping`ç­‰æ³¨è§£ã€‚åŒæ—¶é€šè¿‡`Swagger UI`å±•ç¤ºå’Œè°ƒè¯•æ¥å£ã€‚\n\n> MonitoringDeviceController.java\n```java\n@RestController\n@RequestMapping(\"demo/device\")\n@Api(value = \"demo/device\", tags = \"æµ‹é‡è®¾å¤‡æ¥å£\")\npublic class MonitoringDeviceController {\n    @Autowired\n    private MonitoringDeviceService deviceService;\n\n    @PostMapping(\"add\")\n    @ApiOperation(value = \"æ–°å¢è®¾å¤‡\")\n    public Result<Boolean> addDevice(@RequestBody @Validated AddMonitoringDeviceReq device) {\n        return Result.ok(deviceService.addDevice(device));\n    }\n\n    @PutMapping(\"edit\")\n    @ApiOperation(value = \"ç¼–è¾‘è®¾å¤‡\")\n    public Result<MonitoringDeviceDTO> editDevice(@RequestBody EditMonitoringDeviceReq device) {\n        return Result.ok(deviceService.editDevice(device));\n    }\n\n    @GetMapping(\"getById\")\n    @ApiOperation(value = \"è·å–è®¾å¤‡\")\n    public Result<MonitoringDeviceDTO> getDeviceById(@RequestParam Long deviceId) {\n        return Result.ok(deviceService.getDeviceById(deviceId));\n    }\n\n    @DeleteMapping(\"delete\")\n    @ApiOperation(value = \"åˆ é™¤è®¾å¤‡\")\n    public Result<Boolean> deleteDevice(@RequestParam Long deviceId) {\n        return Result.ok(deviceService.deleteDevice(deviceId));\n    }\n}\n```\n\n# æ¡ä»¶æ„é€ å™¨çš„å…¶ä»–æ–¹æ³•\n| æ–¹æ³•å         | SQL                      | å®ä¾‹                                                             | SQLå®ä¾‹                                              |\n|:------------|:-------------------------|:---------------------------------------------------------------|:---------------------------------------------------|\n| eq          | ç­‰äº=                      | eq(\"name\", \"è€ç‹)                                                | name = 'è€ç‹'                                        |\n| ne          | ä¸ç­‰äº<>                    | ne(\"name\", \"è€ç‹)                                                | name <> 'è€ç‹'                                       |\n| gt          | å¤§äº>                      | gt(\"age\", 18)                                                  | age > 18                                           |\n| e           | å¤§äºç­‰äº>=                   | ge(\"age\", 18)                                                  | age >= 18                                          |\n| t           | å°äº<                      | It(\"age\", 18)                                                  | age < 18                                           |\n| e           | å°äº<=                     | le(\"age\", 18)                                                  | age <= 18                                          |\n| between     | BETWEEN å€¼1 AND å€¼2        | between(\"age\", 18, 30)                                         | age between 18 and 30                              |\n| notBetween  | NOT BETWEEN å€¼1 AND å€¼2    | notBetween(\"age\", 18, 30)                                      | age not between 18 and 30                          |\n| like        | LIKE '%å€¼%'               | like(\"name\", \"ç‹\")                                              | name like '%ç‹%'                                    |\n| notLike     | NOT LIKE '%å€¼%'           | notLike(\"name\", \"ç‹\")                                           | name not like '%ç‹%'                                |\n| likeLeft    | LIKE '%å€¼'                | likeLeft(\"name\", \"ç‹\")                                          | name like '%ç‹'                                     |\n| likeRight   | LIKE 'å€¼%'                | likeRight(\"name\", \"ç‹\")                                         | name like 'ç‹%'                                     |\n| isNull      | å­—æ®µ IS NULL               | isNull(\"name\")                                                 | name is null                                       |\n| isNotNull   | å­—æ®µ IS NOT NULL           | isNotNull(\"name\")                                              | name is not null                                   |\n| in          | å­—æ®µ IN (v0, v1, ...)      | in(\"age\", {1, 2, 3})                                           | age in (1, 2, 3)                                   |\n| notIn       | å­—æ®µ NOT IN (v0, v1, ...)  | notIn(\"age\", {1, 2, 3})                                        | age not in (1, 2, 3)                               |\n| inSql       | å­—æ®µ IN(sqlè¯­å¥)             | inSql(\"id\", \"select id from table where id < 3\")               | id in (select id from table where id < 3)          |\n| notInSql    | å­—æ®µ NOT IN (sqlè¯­å¥)        | notInSql(\"id\", \"select id from table where id < 3\")            | age not in (select id from table where id < 3)     |\n| groupBy     | åˆ†ç»„ GROUP BY å­—æ®µ, ...      | groupBy(\"id\", \"name\")                                          | group by id, name                                  |\n| orderByAsc  | æ’åº ORDER BY å­—æ®µ, ... ASC  | orderByAsc(\"id\", \"name\")                                       | order by id ASC, name ASC                          |\n| orderByDesc | æ’åº ORDER BY å­—æ®µ, ... DESC | orderByDesc(\"id\", \"name\")                                      | order by id DESC, name DESC                        |\n| orderBy     | æ’åº ORDER BY å­—æ®µ, ...      | orderBy(true, true, \"id\", \"name\")                              | order by id ASC, name ASC                          |\n| having      | HAVING (sqlè¯­å¥)           | having(\"sum(age) > {0}\", 11)                                   | having sum(age) > 11                               |\n| or          | æ‹¼æ¥ OR                    | eq(\"id\", 1).or().eq(\"name\", \"è€ç‹\")                              | id = 1 or name = 'è€ç‹                               |\n| and         | AND åµŒå¥—                   | and(i -> i.eq(\"name\", \"æç™½\").ne(\"status\", \"æ´»ç€\"))                | and (name = 'æç™½' and status <> 'æ´»ç€')               |\n| apply       | æ‹¼æ¥sql                    | apply(\"date_format(dateColumn, '%Y-%m-%d')={0}\", \"2008-08-08\") | date_format(dateColumn,'%Y-%m-%d') = '2008-08-08') |\n| last        | æ— è§†ä¼˜åŒ–è§„åˆ™ç›´æ¥æ‹¼æ¥åˆ°sqlçš„æœ€å        | last(\"limit 1\")                                                |                                                    |\n| exists      | æ‹¼æ¥ EXISTS (sqlè¯­å¥)        | exists(\"select id from table where age = 1\")                   | exists (select id from table where age = 1)        |\n| notExists   | æ‹¼æ¥ NOT EXISTS (sqlè¯­å¥)    | notExists(\"select id from table where age = 1\")                | not exists (select id from table where age = 1)    |\n| nested      | æ­£å¸¸åµŒå¥—ä¸å¸¦ANDæˆ–è€…0R            | nested(i -> i.eq(\"name\", \"æç™½\"). ne(\"status\", \"æ´»ç€\"))            | (name = 'æç™½' and status <> 'æ´»ç€')                   |\n\n# å°ç»“\n- `MyBatis-Plus`ä»æ•°æ®åº“è¡¨åˆ°å‰ç«¯æ¥å£çš„ä¸šåŠ¡æµç¨‹æ˜¯`æ•°æ®åº“è¡¨->DTO->Mapper->Service->Controller`ï¼›\n- `DTO`æ˜¯æ•°æ®ä¼ è¾“å¯¹è±¡ï¼Œè¡¨ç¤ºæ•°æ®åº“é‡Œçš„å…³ç³»æ•°æ®ï¼›\n- `Mapper`å°è£…äº†åŸºç¡€çš„`CRUD`æ¥å£ï¼Œæä¾›äº†åŸºç¡€çš„æ•°æ®åº“æ“ä½œï¼›\n- `Service`åœ¨`Mapper`çš„åŸºç¡€ä¸Šæä¾›æ¡ä»¶æ„é€ å™¨ï¼Œä¾¿äºæˆ‘ä»¬ç¼–å†™å¤æ‚çš„æ•°æ®åº“æ“ä½œï¼›\n- `Controller`å°†æ¥å£æä¾›ç»™å‰ç«¯è°ƒç”¨ï¼Œé€šå¸¸ä½¿ç”¨`Spring`æä¾›çš„`RestController`ã€‚\n\n---\n**éå¸¸æ„Ÿè°¢ä½ çš„é˜…è¯»ï¼Œè¾›è‹¦äº†ï¼**\n\n---\nå‚è€ƒæ–‡ç« ï¼š (æ„Ÿè°¢ä»¥ä¸‹èµ„æ–™æä¾›çš„å¸®åŠ©)\n- [ORMæ¡†æ¶ç®€ä»‹](https://blog.csdn.net/papima/article/details/78219000)\n- [MyBatis-Plus LambdaQueryWrapperä½¿ç”¨è¯´æ˜](https://blog.csdn.net/qlzw1990/article/details/116996422)\n- [MyBatis plus ä¹‹ QueryWrapperã€LambdaQueryWrapperã€LambdaQueryChainWrapper](https://adong.blog.csdn.net/article/details/122154137)\n","tags":["åç«¯","Java","MyBatis-Plus"],"categories":["å­¦ä¹ ç¬”è®°"]},{"title":"Javaå‡½æ•°å¼ç¼–ç¨‹å­¦ä¹ ç¬”è®°ï¼ˆäºŒï¼‰","url":"/posts/6ccb0645c089.html","content":"# å‰è¨€\nä¸Šæ¬¡æˆ‘ä»¬è°ˆåˆ°ï¼Œåœ¨Javaä»£ç ä¸­ä½¿ç”¨`Lambda`å¯ä»¥æ˜¾è‘—å‡å°‘ä»£ç é‡ï¼Œæé«˜å¼€å‘æ•ˆç‡ã€‚é‚£ä¹ˆåœ¨Javaé¡¹ç›®å¼€å‘è¿‡ç¨‹ä¸­ï¼Œè¿˜æœ‰ä¸€ä¸ªéå¸¸å¥½ç”¨çš„æ¥å£ï¼š`Stream Api`ï¼Œæˆ‘ä»¬å«å®ƒ`Stream`æµã€‚\n\n> æ³¨æ„ï¼šè¿™ä¸ª`Stream`ä¸åŒäº`java.io`çš„`InputStream`å’Œ`OutputStream`ï¼Œå®ƒä»£è¡¨çš„æ˜¯è‹¥å¹²ä¸ªä»»æ„Javaå¯¹è±¡å…ƒç´ çš„åºåˆ—ï¼Œè¿™ä¸€ç‚¹ç‰¹æ€§å’Œ`Collection`æœ‰ç‚¹ç›¸ä¼¼ï¼Œä½†æ˜¯`Stream`å¹¶ä¸ä¼šçœŸæ­£å­˜å‚¨è¿™äº›å…ƒç´ ï¼Œè€Œæ˜¯æ ¹æ®éœ€è¦æ¥å®æ—¶è®¡ç®—å’Œå­˜å‚¨ï¼ŒçœŸæ­£çš„è®¡ç®—é€šå¸¸å‘ç”Ÿåœ¨æœ€ç»ˆç»“æœçš„è¾“å‡ºï¼Œæ˜¯ä¸€ç§`æƒ°æ€§è®¡ç®—`ã€‚\n\n`Stream`ä½¿ç”¨ä¸€ç§ç±»ä¼¼ç”¨`SQL`è¯­å¥ä»æ•°æ®åº“æŸ¥è¯¢æ•°æ®çš„ç›´è§‚æ–¹å¼æ¥æé«˜Javaé›†åˆè¿ç®—é€»è¾‘çš„ç¼–ç æ•ˆç‡ï¼Œè®©æˆ‘ä»¬èƒ½å¤Ÿå†™å‡º**é«˜æ•ˆç‡**ã€**å¹²å‡€**ã€**ç®€æ´**çš„ä»£ç ã€‚åœ¨ä½¿ç”¨å®ƒçš„æ—¶å€™ï¼Œæˆ‘æ„Ÿå—åˆ°äº†å‰æ‰€æœªæœ‰çš„ä¾¿åˆ©ã€‚\n\n# Streamæµ\n## ä»€ä¹ˆæ˜¯Streamï¼Ÿ\n`Stream`æ˜¯ä¸€ä¸ªæ¥è‡ªæ•°æ®æºçš„å…ƒç´ é˜Ÿåˆ—å¹¶æ”¯æŒè½¬æ¢ä¸èšåˆæ“ä½œã€‚\n\n- **å…ƒç´ **æ˜¯ç‰¹å®šç±»å‹çš„å¯¹è±¡ï¼Œå®ƒä»¬å½¢æˆä¸€ä¸ªé˜Ÿåˆ—ã€‚Javaä¸­çš„`Stream`å¹¶ä¸ä¼šå­˜å‚¨å…ƒç´ ï¼Œè€Œæ˜¯æŒ‰éœ€è®¡ç®—ã€‚\n- **æ•°æ®æº**æ˜¯æµçš„æ¥æºã€‚å¯ä»¥æ˜¯`é›†åˆ`ï¼Œ`æ•°ç»„`ï¼Œ`I/O channel`ï¼Œäº§ç”Ÿå™¨`generator`ç­‰ã€‚\n- **è½¬æ¢æ“ä½œ**ä¸**èšåˆæ“ä½œ**æ˜¯ç±»ä¼¼SQLè¯­å¥ä¸€æ ·çš„æ“ä½œï¼Œå¯ä»¥ä½¿ç”¨`map`, `filter`, `reduce`, `find`, `match`, `sorted`ç­‰æ–¹æ³•å°†ä¸€ä¸ª`Stream`è½¬æ¢æˆå¦ä¸€ä¸ª`Stream`ã€‚\n\n`Stream`è¿˜æœ‰ä¸¤ä¸ªåŒºåˆ«äº`Collection`çš„åŸºæœ¬ç‰¹å¾ï¼š\n\n- **Pipelining**: ä¸­é—´æ“ä½œéƒ½ä¼šè¿”å›ä¸€ä¸ªæµå¯¹è±¡ï¼Œè€Œä¸æ˜¯æœ€ç»ˆçš„é›†åˆç­‰ç»“æ„ã€‚è¿™æ ·å¤šä¸ªæ“ä½œå¯ä»¥ä¸²è”æˆä¸€ä¸ªç®¡é“ï¼Œå¦‚åŒæµå¼é£æ ¼(`fluent style`)ã€‚è¿™æ ·åšå¯ä»¥å¯¹æ“ä½œè¿›è¡Œä¼˜åŒ–ï¼Œæ¯”å¦‚å»¶è¿Ÿæ‰§è¡Œ(`laziness`)å’ŒçŸ­è·¯(`short-circuiting`)ã€‚\n- **å†…éƒ¨è¿­ä»£**ï¼š ä»¥å‰æˆ‘ä»¬å¯¹é›†åˆéå†éƒ½æ˜¯é€šè¿‡`Iterator`æˆ–è€…`For-Each`ä»£ç å—çš„æ–¹å¼, æ˜¾å¼çš„åœ¨é›†åˆå¤–éƒ¨è¿›è¡Œè¿­ä»£ï¼Œè¿™å«åšå¤–éƒ¨è¿­ä»£ã€‚`Stream`æä¾›äº†å†…éƒ¨è¿­ä»£çš„æ–¹å¼ï¼Œé€šè¿‡ä¸Šé¢ä»‹ç»çš„**è½¬æ¢ä¸èšåˆæ“ä½œ**å®ç°ã€‚\n\n## åˆ›å»ºStream\næˆ‘ä»¬å¯ä»¥é€šè¿‡è®¸å¤šæ–¹å¼å°†å¸¸è§çš„ç»“æ„è½¬æ¢æˆ`Stream`æ¥ä½¿ç”¨ã€‚\n\n### Stream.of()\nåˆ›å»º`Stream`æœ€ç®€å•çš„æ–¹å¼æ˜¯ç›´æ¥ç”¨`Stream.of()`é™æ€æ–¹æ³•ï¼Œä¼ å…¥å¯å˜å‚æ•°å³åˆ›å»ºäº†ä¸€ä¸ªèƒ½è¾“å‡ºç¡®å®šå…ƒç´ çš„`Stream`ï¼š\n\n```java\npublic class Main {\n    public static void main(String[] args) {\n        Stream<String> stream = Stream.of(\"A\", \"B\", \"C\", \"D\");\n        // forEach()æ–¹æ³•ç›¸å½“äºå†…éƒ¨å¾ªç¯è°ƒç”¨ï¼Œ\n        // å¯ä¼ å…¥ç¬¦åˆConsumeræ¥å£çš„void accept(T t)çš„æ–¹æ³•å¼•ç”¨ï¼š\n        stream.forEach(System.out::println);\n    }\n}\n```\n\nè™½ç„¶è¿™ç§æ–¹å¼åŸºæœ¬ä¸Šæ²¡å•¥å®è´¨æ€§ç”¨é€”ï¼Œä½†æµ‹è¯•çš„æ—¶å€™å¾ˆæ–¹ä¾¿ã€‚\n\n### åŸºäºæ•°ç»„æˆ–Collection\nç¬¬äºŒç§åˆ›å»º`Stream`çš„æ–¹æ³•æ˜¯åŸºäºä¸€ä¸ªæ•°ç»„æˆ–è€…`Collection`ï¼Œè¿™æ ·è¯¥`Stream`è¾“å‡ºçš„å…ƒç´ å°±æ˜¯æ•°ç»„æˆ–è€…CollectionæŒæœ‰çš„å…ƒç´ ï¼š\n\n```java\npublic class Main {\n    public static void main(String[] args) {\n        Stream<String> stream1 = Arrays.stream(new String[] { \"A\", \"B\", \"C\" });\n        Stream<String> stream2 = List.of(\"X\", \"Y\", \"Z\").stream();\n        stream1.forEach(System.out::println);\n        stream2.forEach(System.out::println);\n    }\n}\n```\n\näº‹å®ä¸Šï¼Œæ‰€æœ‰`Collection`éƒ½å¯ä»¥è½»æ¾åœ°è½¬æ¢æˆ`Stream`ï¼Œåªéœ€è°ƒç”¨`stream()`æ–¹æ³•å³å¯ã€‚\n\n```java\npublic class Main {\n    public static void main(String[] args) {\n        List<String> list = new ArrayList<>();\n        Stream<String> stream1 = list.stream();\n        Set<String> set = new HashSet<>();\n        Stream<String> stream2 = set.stream();\n        Vector<String> vector = new Vector<>();\n        Stream<String> stream3 = vector.stream();\n    }\n}\n```\nä¸Šè¿°ä¸¤ç§åˆ›å»º`Stream`çš„æ–¹æ³•éƒ½æ˜¯æŠŠä¸€ä¸ªç°æœ‰çš„åºåˆ—å˜ä¸º`Stream`ï¼Œå®ƒçš„å…ƒç´ æ˜¯å›ºå®šçš„ã€‚\n\n### åŸºäºSupplier\nåˆ›å»º`Stream`è¿˜å¯ä»¥é€šè¿‡`Stream.generate()`æ–¹æ³•ï¼Œå®ƒéœ€è¦ä¼ å…¥ä¸€ä¸ª`Supplier`å¯¹è±¡ï¼š\n\n```java\nStream<String> s = Stream.generate(Supplier<String> sp);\n```\n\nåŸºäº`Supplier`åˆ›å»ºçš„`Stream`ä¼šä¸æ–­è°ƒç”¨`Supplier.get()`æ–¹æ³•æ¥ä¸æ–­äº§ç”Ÿä¸‹ä¸€ä¸ªå…ƒç´ ï¼Œè¿™ç§`Stream`ä¿å­˜çš„ä¸æ˜¯å…ƒç´ ï¼Œè€Œæ˜¯ç®—æ³•ï¼Œå®ƒå¯ä»¥ç”¨æ¥è¡¨ç¤ºæ— é™åºåˆ—ã€‚\n\nä¾‹å¦‚ï¼Œæˆ‘ä»¬ç¼–å†™ä¸€ä¸ªèƒ½ä¸æ–­ç”Ÿæˆè‡ªç„¶æ•°çš„`Supplier`ï¼Œå®ƒçš„ä»£ç éå¸¸ç®€å•ï¼Œæ¯æ¬¡è°ƒç”¨`get()`æ–¹æ³•ï¼Œå°±ç”Ÿæˆä¸‹ä¸€ä¸ªè‡ªç„¶æ•°ï¼š\n\n```java\npublic class Main {\n    public static void main(String[] args) {\n        Stream<Integer> natual = Stream.generate(new NatualSupplier());\n        // æ³¨æ„ï¼šæ— é™åºåˆ—å¿…é¡»å…ˆå˜æˆæœ‰é™åºåˆ—å†æ‰“å°:\n        natual.limit(20).forEach(System.out::println);\n    }\n}\n\nclass NatualSupplier implements Supplier<Integer> {\n    int n = 0;\n    public Integer get() {\n        n++;\n        return n;\n    }\n}\n```\n\n> å› ä¸ºJavaçš„èŒƒå‹ä¸æ”¯æŒåŸºæœ¬ç±»å‹ï¼Œæ‰€ä»¥æˆ‘ä»¬æ— æ³•ç”¨`Stream<int>`è¿™æ ·çš„ç±»å‹ï¼Œä¼šå‘ç”Ÿç¼–è¯‘é”™è¯¯ã€‚ä¸ºäº†ä¿å­˜`int`ï¼Œåªèƒ½ä½¿ç”¨`Stream<Integer>`ï¼Œä½†è¿™æ ·ä¼šäº§ç”Ÿé¢‘ç¹çš„è£…ç®±ã€æ‹†ç®±æ“ä½œã€‚ä¸ºäº†æé«˜æ•ˆç‡ï¼ŒJavaæ ‡å‡†åº“æä¾›äº†`IntStream`ã€`LongStream`å’Œ`DoubleStream`è¿™ä¸‰ç§ä½¿ç”¨åŸºæœ¬ç±»å‹çš„`Stream`ï¼Œå®ƒä»¬çš„ä½¿ç”¨æ–¹æ³•å’ŒèŒƒå‹`Stream`æ²¡æœ‰å¤§çš„åŒºåˆ«ï¼Œè®¾è®¡è¿™ä¸‰ä¸ª`Stream`çš„ç›®çš„æ˜¯æé«˜è¿è¡Œæ•ˆç‡ã€‚\n\n## æ“ä½œStream\nå‰é¢æåˆ°ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸€äº›è½¬æ¢ä¸èšåˆæ“ä½œå¯¹`Stream`è¿›è¡Œä¸€äº›å¤„ç†ï¼Œæ¥è¾¾åˆ°å¤„ç†æ•°æ®çš„ç›®çš„ã€‚æˆ‘ä»¬é€šå¸¸æŠŠ`Stream`çš„æ“ä½œå†™æˆ**é“¾å¼æ“ä½œ**ï¼Œè¿™æ ·æ˜¾å¾—ä»£ç æ›´ç®€æ´ã€‚\n\n### ä½¿ç”¨map\n`map`æ–¹æ³•æ˜¯æœ€å¸¸ç”¨çš„è½¬æ¢æ“ä½œã€‚å®ƒèƒ½å¤ŸæŠŠä¸€ç§æ“ä½œè¿ç®—ï¼Œæ˜ å°„åˆ°ä¸€ä¸ªåºåˆ—çš„æ¯ä¸€ä¸ªå…ƒç´ ä¸Šï¼Œå¯ä»¥å°†ä¸€ç§å…ƒç´ ç±»å‹è½¬æ¢æˆå¦ä¸€ç§å…ƒç´ ç±»å‹ã€‚\n\nä¾‹å¦‚ï¼Œå¯¹`x`è®¡ç®—å®ƒçš„å¹³æ–¹ï¼Œå¯ä»¥ä½¿ç”¨å‡½æ•°`f(x) = x * x`ã€‚æˆ‘ä»¬æŠŠè¿™ä¸ªå‡½æ•°æ˜ å°„åˆ°ä¸€ä¸ªåºåˆ—`1ï¼Œ2ï¼Œ3ï¼Œ4ï¼Œ5`ä¸Šï¼Œå°±å¾—åˆ°äº†å¦ä¸€ä¸ªåºåˆ—`1ï¼Œ4ï¼Œ9ï¼Œ16ï¼Œ25`ï¼š\n\n```java\nStream<Integer> s1 = Stream.of(1, 2, 3, 4, 5);\nStream<Integer> s2 = s1.map(n -> n * n);\n```\n\nåˆ©ç”¨`map()`ï¼Œä¸ä½†èƒ½å®Œæˆæ•°å­¦è®¡ç®—ï¼Œå¯¹äºå­—ç¬¦ä¸²æ“ä½œï¼Œä»¥åŠä»»ä½•Javaå¯¹è±¡éƒ½æ˜¯éå¸¸æœ‰ç”¨çš„ã€‚ä¾‹å¦‚ï¼š\n\n```java\npublic class Main {\n    public static void main(String[] args) {\n        List.of(\"  Apple \", \" pear \", \" ORANGE\", \" BaNaNa \")\n                .stream()\n                .map(String::trim) // å»ç©ºæ ¼\n                .map(String::toLowerCase) // å˜å°å†™\n                .forEach(System.out::println); // æ‰“å°\n    }\n}\n```\n\n### ä½¿ç”¨filter\n`filter()`æ˜¯å¦ä¸€ç§è½¬æ¢æ“ä½œï¼Œå®ƒèƒ½å¤Ÿå¯¹ä¸€ä¸ª`Stream`çš„æ¯ä¸ªå…ƒç´ è¿›è¡Œåˆ¤æ–­ï¼Œä¸æ»¡è¶³æ¡ä»¶çš„å°±è¢«è¿‡æ»¤æ‰äº†ï¼Œå‰©ä¸‹çš„æ»¡è¶³æ¡ä»¶çš„å…ƒç´ å°±æ„æˆäº†ä¸€ä¸ªæ–°çš„`Stream`ã€‚\n\nä¾‹å¦‚ï¼Œæˆ‘ä»¬å¯¹`1ï¼Œ2ï¼Œ3ï¼Œ4ï¼Œ5`è¿™ä¸ª`Stream`è°ƒç”¨`filter()`ï¼Œä¼ å…¥çš„æµ‹è¯•å‡½æ•°`f(x) = x % 2 != 0`ç”¨æ¥åˆ¤æ–­å…ƒç´ æ˜¯å¦æ˜¯å¥‡æ•°ï¼Œè¿™æ ·å°±è¿‡æ»¤æ‰å¶æ•°ï¼Œåªå‰©ä¸‹å¥‡æ•°ï¼Œå› æ­¤æˆ‘ä»¬å¾—åˆ°äº†å¦ä¸€ä¸ªåºåˆ—`1ï¼Œ3ï¼Œ5`ï¼š\n\n```java\npublic class Main {\n    public static void main(String[] args) {\n        IntStream.of(1, 2, 3, 4, 5, 6, 7, 8, 9)\n                .filter(n -> n % 2 != 0)\n                .forEach(System.out::println);\n    }\n}\n```\n\n`filter()`é™¤äº†å¸¸ç”¨äºæ•°å€¼å¤–ï¼Œä¹Ÿå¯åº”ç”¨äºä»»ä½•Javaå¯¹è±¡ã€‚ä¾‹å¦‚ï¼Œä»ä¸€ç»„ç»™å®šçš„`LocalDate`ä¸­è¿‡æ»¤æ‰å·¥ä½œæ—¥ï¼Œä»¥å¾—åˆ°ä¼‘æ¯æ—¥ï¼š\n\n```java\npublic class Main {\n    public static void main(String[] args) {\n        Stream.generate(new LocalDateSupplier())\n                .limit(31)\n                .filter(ldt -> ldt.getDayOfWeek() == DayOfWeek.SATURDAY || ldt.getDayOfWeek() == DayOfWeek.SUNDAY)\n                .forEach(System.out::println);\n    }\n}\n\nclass LocalDateSupplier implements Supplier<LocalDate> {\n    LocalDate start = LocalDate.of(2020, 1, 1);\n    int n = -1;\n    public LocalDate get() {\n        n++;\n        return start.plusDays(n);\n    }\n}\n```\n\n### ä½¿ç”¨reduce\n`reduce()`æ˜¯ä¸€ç§èšåˆæ“ä½œï¼Œå®ƒå¯ä»¥æŠŠä¸€ä¸ª`Stream`çš„æ‰€æœ‰å…ƒç´ æŒ‰ç…§èšåˆå‡½æ•°èšåˆæˆä¸€ä¸ªç»“æœã€‚æˆ‘ä»¬ä»¥ä¸€ä¸ªç®€å•çš„æ±‚å’Œè¿ç®—ä¸ºä¾‹ï¼š\n\n```java\npublic class Main {\n    public static void main(String[] args) {\n        int sum = Stream.of(1, 2, 3, 4, 5, 6, 7, 8, 9)\n                .reduce(0, (acc, n) -> acc + n);\n        System.out.println(sum); // 45\n    }\n}\n```\n\nå¯è§ï¼Œ`reduce()`æ–¹æ³•æœ‰ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ä¸€ä¸ªåˆå§‹å€¼ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯èšåˆå‡½æ•°ã€‚`reduce()`æ“ä½œé¦–å…ˆåˆå§‹åŒ–ç»“æœä¸ºæŒ‡å®šå€¼ï¼ˆè¿™é‡Œæ˜¯`0`ï¼‰ï¼Œç´§æ¥ç€ï¼Œ`reduce()`å¯¹æ¯ä¸ªå…ƒç´ ä¾æ¬¡è°ƒç”¨`(acc, n) -> acc + n`ï¼Œå…¶ä¸­ï¼Œ`acc`æ˜¯ä¸Šæ¬¡è®¡ç®—çš„ç»“æœã€‚\n\næˆ‘ä»¬è¿˜å¯ä»¥æŠŠæ±‚å’Œæ”¹æˆæ±‚ç§¯ï¼Œä»£ç ä¹Ÿååˆ†ç®€å•ï¼š\n\n```java\npublic class Main {\n    public static void main(String[] args) {\n        int s = Stream.of(1, 2, 3, 4, 5, 6, 7, 8, 9)\n                .reduce(1, (acc, n) -> acc * n);\n        System.out.println(s); // 362880\n    }\n}\n```\n\n> æ³¨æ„ï¼šè®¡ç®—æ±‚ç§¯æ—¶ï¼Œåˆå§‹å€¼å¿…é¡»è®¾ç½®ä¸º`1`ã€‚\n\né™¤äº†å¯ä»¥å¯¹æ•°å€¼è¿›è¡Œç´¯ç§¯è®¡ç®—å¤–ï¼Œçµæ´»è¿ç”¨`reduce()`ä¹Ÿå¯ä»¥å¯¹Javaå¯¹è±¡è¿›è¡Œæ“ä½œã€‚ä¸‹é¢çš„ä»£ç æ¼”ç¤ºäº†å¦‚ä½•å°†é…ç½®æ–‡ä»¶çš„æ¯ä¸€è¡Œé…ç½®é€šè¿‡`map()`å’Œ`reduce()`æ“ä½œèšåˆæˆä¸€ä¸ª`Map<String, String>`ï¼š\n\n```java\npublic class Main {\n    public static void main(String[] args) {\n        // æŒ‰è¡Œè¯»å–é…ç½®æ–‡ä»¶:\n        List<String> props = List.of(\"profile=native\", \"debug=true\", \"logging=warn\", \"interval=500\");\n        Map<String, String> map = props.stream()\n                // æŠŠk=vè½¬æ¢ä¸ºMap[k]=v:\n                .map(kv -> {\n                    String[] ss = kv.split(\"\\\\=\", 2);\n                    return Map.of(ss[0], ss[1]);\n                })\n                // æŠŠæ‰€æœ‰Mapèšåˆåˆ°ä¸€ä¸ªMap:\n                .reduce(new HashMap<String, String>(), (m, kv) -> {\n                    m.putAll(kv);\n                    return m;\n                });\n        // æ‰“å°ç»“æœ:\n        map.forEach((k, v) -> {\n            System.out.println(k + \" = \" + v);\n        });\n    }\n}\n```\n\n### å…¶ä»–æ“ä½œ\né™¤äº†å‰é¢ä»‹ç»çš„å¸¸ç”¨æ“ä½œå¤–ï¼Œ`Stream`è¿˜æä¾›äº†ä¸€ç³»åˆ—éå¸¸æœ‰ç”¨çš„æ–¹æ³•ã€‚\n\n#### æ’åº\nå¯¹`Stream`çš„å…ƒç´ è¿›è¡Œæ’åºååˆ†ç®€å•ï¼Œåªéœ€è°ƒç”¨`sorted()`æ–¹æ³•ï¼š\n\n```java\npublic class Main {\n    public static void main(String[] args) {\n        List<String> list = List.of(\"Orange\", \"apple\", \"Banana\")\n            .stream()\n            .sorted()\n            .collect(Collectors.toList());\n        System.out.println(list);\n    }\n}\n```\n\næ­¤æ–¹æ³•è¦æ±‚`Stream`çš„æ¯ä¸ªå…ƒç´ å¿…é¡»å®ç°`Comparable`æ¥å£ã€‚å¦‚æœè¦è‡ªå®šä¹‰æ’åºï¼Œä¼ å…¥æŒ‡å®šçš„`Comparator`å³å¯ï¼š\n\n```java\nList<String> list = List.of(\"Orange\", \"apple\", \"Banana\")\n    .stream()\n    .sorted(String::compareToIgnoreCase)\n    .collect(Collectors.toList());\n```\n\n#### å»é‡\nå¯¹ä¸€ä¸ª`Stream`çš„å…ƒç´ è¿›è¡Œå»é‡ï¼Œå¯ä»¥ç›´æ¥ç”¨`distinct()`ï¼š\n\n```java\nList.of(\"A\", \"B\", \"A\", \"C\", \"B\", \"D\")\n    .stream()\n    .distinct()\n    .collect(Collectors.toList()); // [A, B, C, D]\n```\n\n#### æˆªå–\næˆªå–æ“ä½œå¸¸ç”¨äºæŠŠä¸€ä¸ªæ— é™çš„`Stream`è½¬æ¢æˆæœ‰é™çš„`Stream`ï¼Œ`skip()`ç”¨äºè·³è¿‡å½“å‰`Stream`çš„å‰`N`ä¸ªå…ƒç´ ï¼Œ`limit()`ç”¨äºæˆªå–å½“å‰`Stream`æœ€å¤šå‰`N`ä¸ªå…ƒç´ ï¼š\n\n```java\nList.of(\"A\", \"B\", \"C\", \"D\", \"E\", \"F\")\n    .stream()\n    .skip(2) // è·³è¿‡A, B\n    .limit(3) // æˆªå–C, D, E\n    .collect(Collectors.toList()); // [C, D, E]\n```\n\n#### åˆå¹¶\nå°†ä¸¤ä¸ª`Stream`åˆå¹¶ä¸ºä¸€ä¸ª`Stream`å¯ä»¥ä½¿ç”¨`Stream`çš„é™æ€æ–¹æ³•`concat()`ï¼š\n\n```java\nStream<String> s1 = List.of(\"A\", \"B\", \"C\").stream();\nStream<String> s2 = List.of(\"D\", \"E\").stream();\n// åˆå¹¶:\nStream<String> s = Stream.concat(s1, s2);\nSystem.out.println(s.collect(Collectors.toList())); // [A, B, C, D, E]\n```\n\n#### flatMap\nå¦‚æœ`Stream`çš„å…ƒç´ æ˜¯é›†åˆï¼š\n\n```java\nStream<List<Integer>> s = Stream.of(\n        Arrays.asList(1, 2, 3),\n        Arrays.asList(4, 5, 6),\n        Arrays.asList(7, 8, 9));\n```\n\nç”±ä¸Šé¢ä¸‰ä¸ª`List`ç»„æˆçš„`Stream`å½¢æˆäº†ä¸€ä¸ªäºŒç»´æ•°ç»„çš„å½¢å¼ï¼Œè€Œæˆ‘ä»¬å¸Œæœ›æŠŠä¸Šè¿°`Stream`è½¬æ¢ä¸º`Stream<Integer>`ï¼Œå°±å¯ä»¥ä½¿ç”¨`flatMap()`ï¼š\n```java\nStream<Integer> i = s.flatMap(list -> list.stream());\n```\nå› æ­¤ï¼Œæ‰€è°“`flatMap()`ï¼Œæ˜¯æŒ‡æŠŠ`Stream`çš„æ¯ä¸ªå…ƒç´ ï¼ˆè¿™é‡Œæ˜¯`List`ï¼‰æ˜ å°„ä¸º`Stream`ï¼Œç„¶ååˆå¹¶æˆä¸€ä¸ªæ–°çš„`Stream`ï¼Œå³æŠŠäºŒç»´æ•°ç»„è½¬æˆä¸€ç»´çš„ã€‚\n\n#### å¹¶è¡Œ\né€šå¸¸æƒ…å†µä¸‹ï¼Œå¯¹`Stream`çš„å…ƒç´ è¿›è¡Œå¤„ç†æ˜¯å•çº¿ç¨‹çš„ï¼Œå³ä¸€ä¸ªä¸€ä¸ªå…ƒç´ è¿›è¡Œå¤„ç†ã€‚ä½†æ˜¯å¾ˆå¤šæ—¶å€™ï¼Œæˆ‘ä»¬å¸Œæœ›å¯ä»¥å¹¶è¡Œå¤„ç†`Stream`çš„å…ƒç´ ï¼Œå› ä¸ºåœ¨å…ƒç´ æ•°é‡éå¸¸å¤§çš„æƒ…å†µï¼Œå¹¶è¡Œå¤„ç†å¯ä»¥å¤§å¤§åŠ å¿«å¤„ç†é€Ÿåº¦ã€‚\n\næŠŠä¸€ä¸ªæ™®é€š`Stream`è½¬æ¢ä¸ºå¯ä»¥å¹¶è¡Œå¤„ç†çš„`Stream`éå¸¸ç®€å•ï¼Œåªéœ€è¦ç”¨`parallel()`è¿›è¡Œè½¬æ¢ï¼š\n\n```java\nStream<String> s = ...\nString[] result = s.parallel() // å˜æˆä¸€ä¸ªå¯ä»¥å¹¶è¡Œå¤„ç†çš„Stream\n        .sorted() // å¯ä»¥è¿›è¡Œå¹¶è¡Œæ’åº\n        .toArray(String[]::new);\n```\n\næˆ–è€…ç›´æ¥åœ¨åˆ›å»º`Stream`æ—¶ä½¿ç”¨`parallelStream()`æ–¹æ³•ï¼Œä¸ºé›†åˆåˆ›å»ºå¹¶è¡Œæµï¼š\n\n```java\nList list = ...\nStream<String> s = list.parallelStream() // ç”Ÿæˆä¸€ä¸ªå¯ä»¥å¹¶è¡Œå¤„ç†çš„Stream\n        .sorted() // å¯ä»¥è¿›è¡Œå¹¶è¡Œæ’åº\n```\n\n#### å…¶ä»–èšåˆæ–¹æ³•\né™¤äº†`reduce()`å’Œ`collect()`å¤–ï¼Œ`Stream`è¿˜æœ‰ä¸€äº›å¸¸ç”¨çš„èšåˆæ–¹æ³•ï¼š\n\n- `count()`ï¼šç”¨äºè¿”å›å…ƒç´ ä¸ªæ•°ï¼›\n- `max(Comparator<? super T> cp)`ï¼šæ‰¾å‡ºæœ€å¤§å…ƒç´ ï¼›\n- `min(Comparator<? super T> cp)`ï¼šæ‰¾å‡ºæœ€å°å…ƒç´ ã€‚\n\né’ˆå¯¹`IntStream`ã€`LongStream`å’Œ`DoubleStream`ï¼Œè¿˜é¢å¤–æä¾›äº†ä»¥ä¸‹èšåˆæ–¹æ³•ï¼š\n\n- `sum()`ï¼šå¯¹æ‰€æœ‰å…ƒç´ æ±‚å’Œï¼›\n- `average()`ï¼šå¯¹æ‰€æœ‰å…ƒç´ æ±‚å¹³å‡æ•°ã€‚\n\nè¿˜æœ‰ä¸€äº›æ–¹æ³•ï¼Œç”¨æ¥æµ‹è¯•`Stream`çš„å…ƒç´ æ˜¯å¦æ»¡è¶³ä»¥ä¸‹æ¡ä»¶ï¼š\n\n- `boolean allMatch(Predicate<? super T>)`ï¼šæµ‹è¯•æ˜¯å¦æ‰€æœ‰å…ƒç´ å‡æ»¡è¶³æµ‹è¯•æ¡ä»¶ï¼›\n- `boolean anyMatch(Predicate<? super T>)`ï¼šæµ‹è¯•æ˜¯å¦è‡³å°‘æœ‰ä¸€ä¸ªå…ƒç´ æ»¡è¶³æµ‹è¯•æ¡ä»¶ã€‚\n\næœ€åä¸€ä¸ªå¸¸ç”¨çš„æ–¹æ³•æ˜¯`forEach()`ï¼Œå®ƒå¯ä»¥å¾ªç¯å¤„ç†`Stream`çš„æ¯ä¸ªå…ƒç´ ï¼Œæˆ‘ä»¬ç»å¸¸ä¼ å…¥`System.out::println`æ¥æ‰“å°`Stream`çš„å…ƒç´ ï¼š\n\n```java\nStream<String> s = ...\ns.forEach(str -> {\n    System.out.println(\"Hello, \" + str);\n});\n```\n\n## è¾“å‡ºStream\næˆ‘ä»¬ä½¿ç”¨`Stream`å¯¹æ•°æ®è¿›è¡Œäº†å¤„ç†ï¼Œæœ€åå°±éœ€è¦è¾“å‡º`Stream`é‡Œçš„å…ƒç´ äº†ã€‚\n\nåœ¨æ­¤ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆå¯¹ä¹‹å‰ä»‹ç»çš„æ“ä½œåˆ†ä¸ªç±»ï¼šä¸€ç±»æ˜¯è½¬æ¢æ“ä½œï¼Œå³æŠŠä¸€ä¸ª`Stream`è½¬æ¢ä¸ºå¦ä¸€ä¸ª`Stream`ï¼Œä¾‹å¦‚`map()`å’Œ`filter()`ï¼Œå¦ä¸€ç±»æ˜¯èšåˆæ“ä½œï¼Œå³å¯¹`Stream`çš„æ¯ä¸ªå…ƒç´ è¿›è¡Œè®¡ç®—ï¼Œå¾—åˆ°ä¸€ä¸ªç¡®å®šçš„ç»“æœï¼Œä¾‹å¦‚`reduce()`ã€‚\n\nå¤§å®¶æœ‰æ²¡æœ‰æ³¨æ„åˆ°ï¼Œåœ¨ä»‹ç»`reduce()`æ–¹æ³•æ—¶ï¼Œæˆ‘ä»¬ç”¨`reduce()`ç¼–å†™äº†æ±‚å’Œä¸æ±‚ç§¯è¿ç®—ï¼Œå®ƒä»¬è¿”å›çš„å¹¶ä¸æ˜¯å¦ä¸€ä¸ª`Stream`ï¼Œè€Œæ˜¯ä¸€ä¸ªå€¼`sum`ã€‚å› æ­¤ï¼Œä¸Šé¢ä¸¤ç§æ“ä½œçš„åŒºåˆ«å°±æ˜¯ï¼šè½¬æ¢æ“ä½œå¹¶ä¸ä¼šè§¦å‘ä»»ä½•è®¡ç®—ï¼›è€Œèšåˆæ“ä½œä¼šç«‹åˆ»ä¿ƒä½¿`Stream`è¾“å‡ºå®ƒçš„æ¯ä¸€ä¸ªå…ƒç´ ï¼Œå¹¶ä¾æ¬¡çº³å…¥è®¡ç®—ï¼Œä»¥è·å¾—æœ€ç»ˆç»“æœã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨èšåˆæ“ä½œè¾“å‡º`Stream`ã€‚\n\n### è¾“å‡ºä¸ºList\n`reduce()`åªæ˜¯ä¸€ç§èšåˆæ“ä½œï¼Œå¦‚æœæˆ‘ä»¬å¸Œæœ›æŠŠ`Stream`çš„å…ƒç´ ä¿å­˜åˆ°é›†åˆï¼Œä¾‹å¦‚`List`ï¼Œå› ä¸º`List`çš„å…ƒç´ æ˜¯ç¡®å®šçš„Javaå¯¹è±¡ï¼Œå› æ­¤ï¼ŒæŠŠ`Stream`å˜ä¸º`List`ä¸æ˜¯ä¸€ä¸ªè½¬æ¢æ“ä½œï¼Œè€Œæ˜¯ä¸€ä¸ªèšåˆæ“ä½œï¼Œå®ƒä¼šå¼ºåˆ¶`Stream`è¾“å‡ºæ¯ä¸ªå…ƒç´ ã€‚\n\nä¸‹é¢çš„ä»£ç æ¼”ç¤ºäº†å¦‚ä½•å°†ä¸€ç»„`String`å…ˆè¿‡æ»¤æ‰ç©ºå­—ç¬¦ä¸²ï¼Œç„¶åæŠŠéç©ºå­—ç¬¦ä¸²ä¿å­˜åˆ°`List`ä¸­ï¼š\n\n```java\npublic class Main {\n    public static void main(String[] args) {\n        Stream<String> stream = Stream.of(\"Apple\", \"\", null, \"Pear\", \"  \", \"Orange\");\n        List<String> list = stream.filter(s -> s != null && !s.isBlank()).collect(Collectors.toList());\n        System.out.println(list);\n    }\n}\n```\n\næŠŠStreamçš„æ¯ä¸ªå…ƒç´ æ”¶é›†åˆ°`List`çš„æ–¹æ³•æ˜¯è°ƒç”¨`collect()`å¹¶ä¼ å…¥`Collectors.toList()`å¯¹è±¡ï¼Œå®ƒå®é™…ä¸Šæ˜¯ä¸€ä¸ª`Collector`å®ä¾‹ï¼Œé€šè¿‡ç±»ä¼¼`reduce()`çš„æ“ä½œï¼ŒæŠŠæ¯ä¸ªå…ƒç´ æ·»åŠ åˆ°ä¸€ä¸ªæ”¶é›†å™¨ä¸­ï¼Œè¿™é‡Œå®é™…ä¸Šæ˜¯`ArrayList`ã€‚\n\nç±»ä¼¼çš„ï¼Œ`collect(Collectors.toSet())`å¯ä»¥æŠŠ`Stream`çš„æ¯ä¸ªå…ƒç´ æ”¶é›†åˆ°`Set`ä¸­ã€‚\n\n### è¾“å‡ºä¸ºæ•°ç»„\næŠŠStreamçš„å…ƒç´ è¾“å‡ºä¸ºæ•°ç»„å’Œè¾“å‡ºä¸º`List`ç±»ä¼¼ï¼Œæˆ‘ä»¬åªéœ€è¦è°ƒç”¨`toArray()`æ–¹æ³•ï¼Œå¹¶ä¼ å…¥æ•°ç»„çš„*æ„é€ æ–¹æ³•*ï¼š\n\n```java\nList<String> list = List.of(\"Apple\", \"Banana\", \"Orange\");\nString[] array = list.stream().toArray(String[]::new);\n```\n\næ³¨æ„åˆ°ä¼ å…¥çš„*æ„é€ æ–¹æ³•*æ˜¯`String[]::new`ï¼Œå®ƒçš„ç­¾åå®é™…ä¸Šæ˜¯`IntFunction<String[]>`å®šä¹‰çš„`String[] apply(int)`ï¼Œå³ä¼ å…¥`int`å‚æ•°ï¼Œè·å¾—`String[]`æ•°ç»„çš„è¿”å›å€¼ã€‚\n\n### è¾“å‡ºä¸ºMap\nå¦‚æœæˆ‘ä»¬è¦æŠŠ`Stream`çš„å…ƒç´ æ”¶é›†åˆ°`Map`ä¸­ï¼Œå°±ç¨å¾®éº»çƒ¦ä¸€ç‚¹ã€‚å› ä¸ºå¯¹äºæ¯ä¸ªå…ƒç´ ï¼Œæ·»åŠ åˆ°`Map`æ—¶éƒ½éœ€è¦`key`å’Œ`value`ï¼Œå› æ­¤ï¼Œæˆ‘ä»¬è¦æŒ‡å®šä¸¤ä¸ªæ˜ å°„å‡½æ•°ï¼Œåˆ†åˆ«æŠŠå…ƒç´ æ˜ å°„ä¸º`key`å’Œ`value`ï¼š\n\n```java\npublic class Main {\n    public static void main(String[] args) {\n        List<String> list = List.of(\"Apple\", \"Banana\", \"Blackberry\", \"Coconut\", \"Avocado\", \"Cherry\", \"Apricots\");\n        Map<String, List<String>> groups = list.stream()\n                .collect(Collectors.groupingBy(s -> s.substring(0, 1), Collectors.toList()));\n        System.out.println(groups);\n    }\n}\n```\n\n### åˆ†ç»„è¾“å‡º\n`Stream`è¿˜æœ‰ä¸€ä¸ªå¼ºå¤§çš„åˆ†ç»„åŠŸèƒ½ï¼Œå¯ä»¥æŒ‰ç»„è¾“å‡ºã€‚æˆ‘ä»¬çœ‹ä¸‹é¢çš„ä¾‹å­ï¼š\n\n```java\npublic class Main {\n    public static void main(String[] args) {\n        List<String> list = List.of(\"Apple\", \"Banana\", \"Blackberry\", \"Coconut\", \"Avocado\", \"Cherry\", \"Apricots\");\n        Map<String, List<String>> groups = list.stream()\n                .collect(Collectors.groupingBy(s -> s.substring(0, 1), Collectors.toList()));\n        System.out.println(groups);\n    }\n}\n```\nåˆ†ç»„è¾“å‡ºä½¿ç”¨`Collectors.groupingBy()`ï¼Œå®ƒéœ€è¦æä¾›ä¸¤ä¸ªå‡½æ•°ï¼šä¸€ä¸ªæ˜¯åˆ†ç»„çš„`key`ï¼Œè¿™é‡Œä½¿ç”¨`s -> s.substring(0, 1)`ï¼Œè¡¨ç¤ºåªè¦é¦–å­—æ¯ç›¸åŒçš„`String`åˆ†åˆ°ä¸€ç»„ï¼Œç¬¬äºŒä¸ªæ˜¯åˆ†ç»„çš„`value`ï¼Œè¿™é‡Œç›´æ¥ä½¿ç”¨`Collectors.toList()`ï¼Œè¡¨ç¤ºè¾“å‡ºä¸º`List`ï¼Œä¸Šè¿°ä»£ç è¿è¡Œç»“æœå¦‚ä¸‹ï¼š\n\n> A=[Apple, Avocado, Apricots],  \n> B=[Banana, Blackberry],  \n> C=[Coconut, Cherry]  \n\n## å°ç»“\n`Stream`æä¾›çš„å¸¸ç”¨æ“ä½œæœ‰ï¼š\n\n| ç±»å‹   | æ–¹æ³•                                                                   |\n|:-----|:---------------------------------------------------------------------|\n| è½¬æ¢æ“ä½œ | `map()`ï¼Œ`filter()`ï¼Œ`sorted()`ï¼Œ`distinct()`                           |\n| åˆå¹¶æ“ä½œ | `concat()`ï¼Œ`flatMap()`                                               |\n| å¹¶è¡Œå¤„ç† | `parallel()`                                                         |\n| èšåˆæ“ä½œ | `reduce()`ï¼Œ`collect()`ï¼Œ`count()`ï¼Œ`max()`ï¼Œ`min()`ï¼Œ`sum()`ï¼Œ`average()` |\n| å…¶ä»–æ“ä½œ | `allMatch()`ï¼Œ`anyMatch()`ï¼Œ`forEach()`                                |\n\n# åº”ç”¨\n## éœ€æ±‚è§„æ ¼\nåœ¨é¡¹ç›®ä¸­ï¼Œéœ€è¦ç¼–å†™è¿™æ ·çš„ä¸šåŠ¡é€»è¾‘ï¼šæ ¹æ®ä¸€ä¸²`id`åœ¨æ•°æ®åº“ä¸­æŸ¥è¯¢å¹¶è¿”å›ä¸`id`åŒ¹é…çš„æ•°æ®ï¼›æˆ–è€…å†å¤æ‚ä¸€äº›ï¼Œåœ¨ä¸€ä¸ªè¡¨ä¸­æ ¹æ®`id`æŸ¥åˆ°æ•°æ®ï¼Œç„¶åæ ¹æ®è¿™äº›æ•°æ®çš„å…¶ä»–å­—æ®µæŸ¥è¯¢å¦ä¸€ä¸ªè¡¨çš„æ•°æ®ã€‚åœ¨è¿™äº›é€»è¾‘ä¸­ï¼Œéœ€è¦ä¿è¯ä»£ç æ‹¥æœ‰è¾ƒé«˜çš„å¯è¯»æ€§å’Œå¥å£®æ€§ï¼Œä¿è¯æ•°æ®åº“è¡¨æˆ–è€…`DTO`å…¥å‚äº§ç”Ÿå˜åŒ–æ—¶ï¼Œç›¸åº”çš„ä¸šåŠ¡ä»£ç ä¸éœ€è¦åšå¤§çš„æ”¹åŠ¨ã€‚\n\n## è§£å†³æ–¹æ¡ˆ\nä½¿ç”¨`Stream`ä»£æ›¿`for`å¾ªç¯éå†æ•°ç»„ï¼Œä½¿ç”¨`map`å¯ä»¥ä»æ•°æ®åº“è¡¨ä¸€è¡Œæ•°æ®é‡Œæå–å‡ºä¸€ä¸ª`id`å­—æ®µï¼Œå†ç”¨`collect`å°†å…¶è½¬æ¢ä¸º`List`ã€‚\n\nä½¿ç”¨`Stream`å­˜å‚¨`id`æ—¶ï¼Œå¦‚æœç”¨è¿™äº›`id`æŸ¥è¯¢åˆ°äº†å¤šè¡Œæ•°æ®ï¼Œæœ‰å¯èƒ½ä¼šè¿”å›ç”±`List`ç»„æˆçš„`Stream`ï¼Œè¿™æ—¶å°±å¯ä»¥ç”¨`flatMap`ï¼Œå°†å®ƒä»¬è½¬æ¢æˆå•è¡Œæ•°æ®ç»„æˆçš„`Stream`ã€‚\n\n## å®ä¾‹\nå‡è®¾å·²å¾—åˆ°ä¸€ä¸ªå®ä½“æ•°ç»„ï¼š\n```java\nList<EmissionCalcParamDTO> emissionCalcParams\n```\n\næˆ‘ä»¬å¯ä»¥ä½¿ç”¨`Stream`è½»æ¾åœ°è·å–è¿™äº›å®ä½“çš„`id`ï¼Œåªéœ€åœ¨`map`ä¸­ä¼ å…¥`getter`æ–¹æ³•ï¼š\n\n```java\nList<Long> paramIdList = emissionCalcParams.stream()\n        .map(EmissionCalcParamDTO::getId)\n        .collect(Collectors.toList());\n```\n\nä¹‹åï¼Œå¯ä»¥æ ¹æ®è¿™äº›`id`åœ¨æ•°æ®åº“ä¸­æŸ¥è¯¢å¦ä¸€ä¸ªè¡¨çš„æ•°æ®ï¼Œè¿™é‡Œä½¿ç”¨äº†MyBatis-Plusçš„æ¡ä»¶æ„é€ å™¨ç¼–å†™æŸ¥è¯¢æ¡ä»¶ã€‚\n\n```java\nList<DetermineDTO> determineList = new LambdaQueryChainWrapper<>(determineMapper)\n        .eq(DetermineDTO::getObtainingMethod, 2)\n        .in(DetermineDTO::getCalcParamId, paramIdList)\n        .list();\n```\n\næœ€åï¼Œæ ¹æ®è¿™äº›æ•°æ®é‡Œçš„å­—æ®µï¼Œè¿”å›ç¬¬ä¸‰ä¸ªè¡¨çš„æ•°æ®ï¼š\n\n```java\nreturn determineList.stream()\n        .map(DetermineDTO::getDeviceId)\n        .map(this::getDeviceById)\n        .collect(Collectors.toList());\n```\n\nå¯ä»¥æ³¨æ„åˆ°ï¼Œè¿™äº›`map`ä¼ å…¥äº†`getter`æ–¹æ³•å’Œå†…éƒ¨æ–¹æ³•ï¼Œå¯¹`Stream`è¿›è¡Œå¤šæ¬¡è½¬æ¢ï¼Œæœ€ç»ˆå¾—åˆ°æˆ‘ä»¬æƒ³è¦çš„ç»“æœã€‚\n\nå†æ¥çœ‹å¦ä¸€ä¸ªå®ä¾‹ã€‚è¿™æ¬¡æˆ‘ä»¬æ ¹æ®idè·å–åˆ°çš„æ•°æ®æ˜¯ç”±`List`ç»„æˆçš„ï¼Œéœ€è¦å°†å®ƒä»¬è½¬æ¢æˆå•è¡Œæ•°æ®ï¼Œå³å»é™¤å®ƒä»¬çš„åˆ†ç»„ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨`flatMap`ï¼ŒæŠŠ`Stream`çš„æ¯ä¸ª`List`æ˜ å°„ä¸º`Stream`ï¼Œç„¶ååˆå¹¶æˆä¸€ä¸ªæ–°çš„`Stream`ï¼Œåªéœ€ä¼ å…¥`Collection`çš„å†…éƒ¨æ–¹æ³•`stream()`å³å¯ã€‚\n\n```java\nreturn deviceList.stream().map(MonitoringDeviceDTO::getId)\n        .map(this::getRecordByDevice)\n        .flatMap(Collection::stream)\n        .collect(Collectors.toList());\n```\n\n# é¢˜å¤–è¯\næˆ‘ç¼–å†™Javaä»£ç ä½¿ç”¨çš„`IDE`æ˜¯`IntelliJ IDEA`ã€‚åœ¨ç¼–å†™`Stream`çš„é“¾å¼æ“ä½œæ—¶é€‚å½“æ¢è¡Œï¼Œ`IDEA`å¯ä»¥å°†æ¯ä¸€è¡Œé“¾å¼æ“ä½œå¾—åˆ°çš„**æ•°æ®ç±»å‹**æ˜¾ç¤ºåœ¨è¡Œæœ«ï¼Œæ¸…æ™°åœ°å±•ç°å‡º`Stream`çš„`Pipelining`ç‰¹ç‚¹ï¼Œéå¸¸æœ‰åŠ©äºé˜…è¯»å’Œç¼–å†™ä»£ç ã€‚\n\næ­¤å¤–ï¼Œ`IDEA`å†…ç½®çš„`Lombok`æ’ä»¶ï¼ˆå°è¾£æ¤’ï¼‰å¯ä»¥è‡ªåŠ¨ç”Ÿæˆç±»çš„`getter`ä¸`setter`æ–¹æ³•ï¼Œä¸éœ€è¦æ‰‹åŠ¨é‡å¤ç¼–å†™ï¼Œéœ€è¦æ—¶ç›´æ¥è°ƒç”¨å°±å¥½ï¼Œä¸”ä»£ç è‡ªåŠ¨è¡¥å…¨åŠŸèƒ½ä¼šåœ¨è¿™äº›è‡ªåŠ¨ç”Ÿæˆçš„æ–¹æ³•å›¾æ ‡å³ä¸‹è§’æ˜¾ç¤ºä¸€ä¸ªå°è¾£æ¤’ï¼Œéå¸¸æœ‰è¶£ã€‚\n\n---\n**éå¸¸æ„Ÿè°¢ä½ çš„é˜…è¯»ï¼Œè¾›è‹¦äº†ï¼**\n\n---\nå‚è€ƒæ–‡ç« ï¼š (æ„Ÿè°¢ä»¥ä¸‹èµ„æ–™æä¾›çš„å¸®åŠ©)\n- [ä½¿ç”¨Stream - å»–é›ªå³°çš„å®˜æ–¹ç½‘ç«™](https://www.liaoxuefeng.com/wiki/1252599548343744/1322402873081889)\n- [Java 8 Stream | èœé¸Ÿæ•™ç¨‹](https://www.runoob.com/java/java8-streams.html)\n","tags":["åç«¯","Java","Stream"],"categories":["å­¦ä¹ ç¬”è®°"]},{"title":"å¦‚ä½•åœ¨ä¸åŒç”µè„‘ä¸Šä½¿ç”¨SSHè®¿é—®åŒä¸€ä¸ªä»£ç åº“","url":"/posts/acc0fec61eb5.html","content":"# å‰è¨€\næœ€è¿‘åœ¨ä½¿ç”¨Gitçš„è¿‡ç¨‹ä¸­é‡åˆ°äº†è¿™æ ·ä¸€ä¸ªåœºæ™¯ï¼šæˆ‘ä»¬æœ‰æ—¶éœ€è¦åœ¨**ä¸åŒç”µè„‘**ä¸Šä½¿ç”¨SSHè®¿é—®**åŒä¸€ä¸ªä»£ç åº“**ï¼Œä½†æ¯å°ç”µè„‘åˆæœ‰å„è‡ªå…¶ä»–çš„ç”¨é€”ã€‚ä½¿ç”¨SSHè®¿é—®ä»£ç æ‰˜ç®¡å¹³å°æ—¶è¦ç”Ÿæˆå¯†é’¥å¯¹ï¼Œä½†åˆéœ€è¦è¾“å…¥ä¸€ä¸ªé‚®ç®±ã€‚\n\nå¤§å®¶æœ‰æ²¡æœ‰æƒ³è¿‡ï¼Œæˆ‘ä»¬åœ¨ä»£ç æ‰˜ç®¡å¹³å°ã€Gitæœ¬åœ°åº“å’Œç”ŸæˆSSHå¯†é’¥å¯¹æ—¶éƒ½è¦è¾“å…¥ä¸€ä¸ªé‚®ç®±ç”¨ä½œç”¨æˆ·åï¼Œè¿™äº›é‚®ç®±æœ‰åŒºåˆ«å—ï¼Ÿç”ŸæˆSSHå¯†é’¥å¯¹æ—¶è¾“å…¥ä»€ä¹ˆé‚®ç®±æ¯”è¾ƒåˆé€‚ï¼Ÿè¾“å…¥åˆ«çš„å­—ç¬¦å¯ä»¥å—ï¼Ÿå¦‚ä½•è®©ä¸€å°ç”µè„‘èƒ½ç”¨**ä¸åŒç”¨æˆ·å**è®¿é—®**ä¸åŒçš„ä»£ç åº“**å‘¢ï¼Ÿä¸‹é¢ï¼Œæˆ‘ä»¬å°±æ¥æ¢è®¨ä¸€ä¸‹è¿™äº›é—®é¢˜ã€‚\n\n# SSHå¯†é’¥\nå¤§å¤šæ•°Gitæ•™ç¨‹éƒ½ä¼šå‘Šè¯‰ä½ ï¼Œç”ŸæˆSSHå¯†é’¥æ—¶åœ¨`-C`åè¾“å…¥ä½ åœ¨Gitä¸­è®¾ç½®`user.email`é‚£é‡Œå¡«å†™çš„é‚®ç®±å°±å¯ä»¥äº†ï¼Œè€Œä¸”åœ¨å¾ˆå¤šæ•™ç¨‹é‡Œéƒ½ä¼šçœ‹åˆ°è¿™è¡Œå‘½ä»¤ï¼š\n\n```powershell\nssh-keygen -t rsa -C \"username@email.com\"\n```\n\nä½ çœ‹ï¼Œå‘½ä»¤éƒ½æ˜¯è¿™ä¹ˆå†™çš„ï¼Œè®©ä½ è¾“å…¥ä¸€ä¸ªé‚®ç®±ï¼Œæ˜¯å§ã€‚\n\näº‹å®ä¸Šï¼Œssh-keygenå‘½ä»¤ä¸­å¸¸ç”¨çš„å‚æ•°æ˜¯è¿™æ ·è§£é‡Šçš„ï¼š\n\n| å‚æ•°  | è§£é‡Š                            |\n|:----|:------------------------------|\n| -t  | æŒ‡å®šè¦åˆ›å»ºçš„å¯†é’¥ç±»å‹ï¼Œä¸€èˆ¬é‡‡ç”¨rsaåŠ å¯†æ–¹å¼ï¼Œå¦å¤–æœ‰dsa |\n| -b  | æŒ‡å®šå¯†é’¥é•¿åº¦ï¼Œrsaé»˜è®¤2048bit           |\n| -f  | æŒ‡å®šç”¨æ¥ä¿å­˜å¯†é’¥çš„æ–‡ä»¶åï¼Œå¯ä»¥ä¸æŒ‡å®š            |\n| -C  | æ·»åŠ å¤‡æ³¨                          |\n\næˆ‘ä»¬å°è¯•è¾“å…¥è¿™è¡Œå‘½ä»¤ï¼š\n\n```powershell\nssh-keygen -t rsa -C \"username@email.com\"\n```\n\nä»¥ä¸Šå‘½ä»¤çœç•¥äº†-få‚æ•°ï¼Œå› æ­¤ï¼Œè¿è¡Œä¸Šé¢é‚£æ¡å‘½ä»¤åä¼šè®©ä½ è¾“å…¥ä¸€ä¸ªæ–‡ä»¶åï¼Œç”¨äºä¿å­˜åˆšæ‰ç”Ÿæˆçš„SSH keyä»£ç ï¼Œä½ ä¸€èˆ¬ä¼šçœ‹åˆ°å¦‚ä¸‹çš„æ–‡å­—ï¼š\n\n```powershell\nGenerating public/private rsa key pair.\nEnter file in which to save the key (/Users/yourusername/.ssh/id_rsa): [Press enter]\n```\n\nä¸è¾“å…¥æ–‡ä»¶åï¼ŒæŒ‰ä¸‹å›è½¦åï¼Œä¼šåœ¨ä½ ç”µè„‘çš„Useræ–‡ä»¶å¤¹çš„`.ssh`è·¯å¾„ä¸‹åˆ›å»ºä¸€ä¸ªåŠ å¯†æ–¹å¼ä¸º`rsa`ã€æ³¨é‡Šä¸º`username@email.com`çš„SSHå¯†é’¥ï¼Œè€Œä¸”ä¼šåŒæ—¶ç”Ÿæˆä¸€å¯¹å…¬é’¥å’Œç§é’¥ï¼Œæ–‡ä»¶åä¸º`id_rsa`ï¼Œå…¬é’¥çš„æ–‡ä»¶åç¼€åä¸º`.pub`ï¼Œç§é’¥æ²¡æœ‰åç¼€åã€‚\n\nå› æ­¤ï¼Œåœ¨ç”ŸæˆSSHå¯†é’¥æ—¶ï¼Œè¾“å…¥é‚®ç®±åªæ˜¯èµ·åˆ°ä¸€ä¸ª**å¤‡æ³¨**çš„ä½œç”¨ï¼Œå¡«å†™å…¶ä»–**ä»»æ„å†…å®¹**å‡å¯ï¼Œä¹Ÿè·Ÿä½ çš„Gitç”¨æˆ·å**æ²¡æœ‰ä»»ä½•å…³ç³»**ã€‚ä¸€å°ç”µè„‘ä½¿ç”¨**ä¸€ä¸ª**SSHå¯†é’¥å°±èƒ½è®¿é—®**å¤šä¸ª**è¿œç¨‹æœåŠ¡å™¨ã€‚\n\n# åˆç†ä½¿ç”¨æ³¨é‡Š\né‚£ä¹ˆï¼Œæˆ‘ä»¬è¯¥å¦‚ä½•å¡«å†™æ³¨é‡Šï¼Œåœ¨æ—¥å¸¸ä½¿ç”¨ä¸­æ›´æ–¹ä¾¿åœ°åŒºåˆ†å®ƒä»¬å‘¢ï¼Ÿ\n\næˆ‘åˆ—ä¸¾è¿™æ ·ä¸€ä¸ªåœºæ™¯ï¼šæˆ‘åœ¨å…¬å¸ä½¿ç”¨å°å¼æœºåŠå…¬ï¼ŒåŒæ—¶å®¶é‡Œæœ‰ä¸€å°å°å¼æœºï¼Œè‡ªå·±æœ‰ä¸€å°ç¬”è®°æœ¬ç”µè„‘ã€‚æˆ‘æœ‰ä¸€äº›ä¸ªäººçš„å…´è¶£æ€§é¡¹ç›®ï¼Œä»£ç æ‰˜ç®¡åœ¨GitHubä¸Šï¼ŒåŒæ—¶æœ‰ä¸€äº›å…¬å¸çš„é¡¹ç›®ï¼Œä»£ç æ‰˜ç®¡åœ¨å…¬å¸æœåŠ¡å™¨ä¸Šã€‚æˆ‘ä¼šåœ¨å…¬å¸ç”µè„‘ä¸Šä½¿ç”¨SSHè®¿é—®å…¬å¸æœåŠ¡å™¨çš„ä»£ç åº“ï¼Œå¹¶ä¸”å¶å°”éœ€è¦ç”¨å…¬å¸ç”µè„‘è®¿é—®è‡ªå·±çš„ä¸ªäººä»£ç ï¼›åœ¨å®¶é‡Œä¼šä½¿ç”¨å°å¼æœºå’Œç¬”è®°æœ¬è®¿é—®è‡ªå·±çš„GitHubã€‚\n\nç”¨è¡¨æ ¼åˆ—ä¸¾å¦‚ä¸‹ï¼š\n\n| ç”µè„‘åç§°      | è¯´æ˜        |\n|:----------|:----------|\n| HomePC    | å®¶ä¸­ä½¿ç”¨çš„å°å¼ç”µè„‘ |\n| CompanyPC | å…¬å¸ä½¿ç”¨çš„å°å¼ç”µè„‘ |\n| Laptop    | è‡ªå·±çš„ç¬”è®°æœ¬ç”µè„‘  |\n\n| ä»£ç æ‰˜ç®¡å¹³å° | ç”¨æˆ·å      | email              | è¯´æ˜   |\n|:-------|:---------|:-------------------|:-----|\n| GitHub | personal | personal@qq.com    | ä¸ªäººé‚®ç®± |\n| å…¬å¸æœåŠ¡å™¨  | company  | company@company.cn | å…¬å¸é‚®ç®± |\n\nä»æŸç§è§’åº¦ä¸Šçœ‹ï¼Œæˆ‘ä»¬çš„ä»£ç åº“å’Œå¼€å‘ç¯å¢ƒå­˜åœ¨**å¤šå¯¹å¤š**çš„å…³è”å…³ç³»ï¼Œä¸‰ä¹˜ä»¥äºŒç­‰äºå…­ï¼Œæ˜¯ä¸æ˜¯æˆ‘ä»¬ä¹Ÿè¦åˆ›å»º6ä¸ªSSHå¯†é’¥å¯¹å‘¢ï¼Ÿä¸æ˜¯çš„ã€‚\n\næˆ‘ä»¬éœ€è¦ç•™æ„åˆ°ï¼Œåœ¨è®¾ç½®Gitç”¨æˆ·åå’Œå¯†ç æ—¶ï¼Œæˆ‘ä»¬æ€»æ˜¯æ·»åŠ `-global`å‚æ•°ï¼Œè®©è®¡ç®—æœºä¸Šæ‰€æœ‰çš„Gitåº“éƒ½ä½¿ç”¨åŒä¸€ä¸ªç”¨æˆ·åã€‚å› æ­¤ï¼Œæˆ‘ä»¬å®Œå…¨å¯ä»¥åœ¨æŸäº›æœ¬åœ°åº“ä¸­è®¾ç½®**å•ç‹¬**çš„ç”¨æˆ·åå’Œå¯†ç ï¼Œæ¥è®¿é—®ç‰¹å®šçš„è¿œç¨‹åº“ã€‚\n\nä»¥ä¸Šé¢çš„æƒ…å†µä¸ºä¾‹ï¼Œæˆ‘ä»¬å¯ä»¥ç»™æ¯å°ç”µè„‘åªåˆ›å»ºä¸€ä¸ªSSHå¯†é’¥å¯¹ï¼Œåœ¨å…¬å¸å°å¼æœºä¸Šé’ˆå¯¹ä¸ªäººä»£ç çš„**æœ¬åœ°åº“**è®¾ç½®Gitç”¨æˆ·åä¸º`personal@qq.com`ï¼Œ**å…¨å±€**ç”¨æˆ·åè®¾ç½®ä¸º`company@company.cn`ï¼Œç„¶ååœ¨å®¶é‡Œçš„å°å¼æœºå’Œç¬”è®°æœ¬ä¸Šè®¾ç½®**å…¨å±€**ç”¨æˆ·åä¸º`personal@qq.com`ã€‚\n\næœ€åï¼Œåœ¨è®¾ç½®å¥½Gitç”¨æˆ·åä¹‹åï¼Œç»™å„å°ç”µè„‘çš„å¯†é’¥å¯¹æ·»åŠ æ³¨é‡Šï¼Œå¡«å†™**æ¯å°ç”µè„‘çš„åç§°**ï¼Œè€Œä¸æ˜¯é‚®ç®±ã€‚ç”¨è¡¨æ ¼åˆ—ä¸¾å¦‚ä¸‹ï¼š\n\n| ç”µè„‘åç§°      | å¯†é’¥å¯¹æ³¨é‡Š          | ä»£ç æ‰˜ç®¡ç½‘ç«™ä¸Šæ˜¾ç¤ºå¯†é’¥æ ‡é¢˜ |\n|:----------|:---------------|:--------------|\n| HomePC    | -C \"HomePC\"    | HomePC        |\n| CompanyPC | -C \"CompanyPC\" | CompanyPC     |\n| Laptop    | -C \"Laptop\"    | Laptop        |\n\nç†æ¸…å…³ç³»åï¼Œæˆ‘ä»¬å‘ç°ï¼ŒSSHå¯†é’¥å¯¹å…¶å®æ˜¯ä¸**æ¯å°ç”µè„‘**å…³è”çš„ï¼Œè€ŒéGitç”¨æˆ·ã€‚æŠŠå¯†é’¥æ·»åŠ åˆ°ä»£ç æ‰˜ç®¡ç½‘ç«™ä¸Šçš„æ—¶å€™ï¼Œæœ€å¥½ç”¨ä¸€ä¸ªè·Ÿè¿™å°ç”µè„‘å¯†åˆ‡ç›¸å…³çš„æ³¨é‡Šã€‚ä»¥åå¦‚æœä¸ä½¿ç”¨è¿™å°ç”µè„‘äº†ï¼Œä»ç½‘ç«™ä¸Šåˆ é™¤è¿™ä¸ªå¯†é’¥å¾ˆæ–¹ä¾¿ã€‚\n> è¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯ä»£ç æ‰˜ç®¡ç½‘ç«™å¯¹æœ¬åœ°è®¾å®šçš„Gitç”¨æˆ·æ˜¯å¦‚ä½•å¤„ç†çš„ã€‚ä»£ç æ‰˜ç®¡ç½‘ç«™ä¸»è¦å…³æ³¨Gitç”¨æˆ·å`user.email`ï¼Œç”¨`user.email`æ¥åŒ¹é…æ‰˜ç®¡å¹³å°è´¦æˆ·åçš„**é‚®ä»¶åœ°å€**ï¼Œå¦‚æœç›¸åŒï¼Œä»£ç æ‰˜ç®¡ç½‘ç«™å°±è®¤ä¸ºæ­¤æ“ä½œæ˜¯è´¦æˆ·æ‰€æœ‰è€…çš„æ“ä½œã€‚ä¸‹é¢ä¸¾ä¸€ä¸ªä¾‹å­ï¼š  \nå¦‚æœæœ¬åœ°è®¾å®šçš„`user.email`æ˜¯`personal@qq.com`ï¼Œç”±äºåœ¨GitHubè´¦æˆ·çš„é‚®ä»¶åœ°å€ä¹Ÿæ˜¯`personal@qq.com`ï¼Œå¦‚æœä»è¿™å°ç”µè„‘pushçš„è¯ï¼ŒGitHubä¼šè®¤å®šè¿™æ¬¡pushæ˜¯è´¦æˆ·æ‹¥æœ‰è€…è‡ªå·±åšçš„ï¼›å¦‚æœæœ¬åœ°è®¾å®šçš„`user.email`æ˜¯`company@company.cn`ï¼Œä¹Ÿèƒ½pushåˆ°GitHubï¼Œä½†GitHubä¼šè®°å½•è¿™æ¬¡çš„ä¿®æ”¹æ˜¯å¦ä¸€ä¸ªç”¨æˆ·åä¸º`company`çš„äººåšçš„ã€‚\n\n# å°ç»“\n- ä½¿ç”¨ssh-keygenå‘½ä»¤äº§ç”Ÿå¯†é’¥å¯¹ï¼Œæ¯å°ç”µè„‘æœ‰**ä¸€å¯¹**å°±å¤Ÿäº†ã€‚\n\n- åœ¨æœ¬åœ°ç”Ÿæˆsshå¯†é’¥å¯¹æ—¶ï¼Œæ¨èç”¨**è®¡ç®—æœºç›¸å…³ä¿¡æ¯**è€Œä¸æ˜¯ç”¨æˆ·åä½œä¸ºå¯†é’¥å¯¹çš„æ³¨é‡Šã€‚åœ¨ä»£ç æ‰˜ç®¡ç½‘ç«™ä¸Šï¼Œä¹Ÿæ¨èç”¨è¿™ä¸ªä¿¡æ¯æ¥åšå¯†é’¥å¯¹çš„æ ‡é¢˜ã€‚\n\n- é…ç½®æœ¬åœ°Gitç”¨æˆ·åæ—¶ï¼Œå…¨å±€é…ç½®ï¼ˆ`â€“global`ï¼‰è¦è€ƒè™‘è¯¥ç”µè„‘ä¸Šçš„å·¥ä½œä¸»è¦pushåˆ°å“ªä¸ªè¿œç¨‹æœåŠ¡å™¨ï¼Œç„¶åé…ç½®æˆè·Ÿé‚£ä¸ªæœåŠ¡å™¨ä¸€è‡´çš„ç”¨æˆ·åå’Œé‚®ä»¶åœ°å€ã€‚\n\n- é™¤äº†ä¸»è¦pushçš„æœåŠ¡å™¨å¤–ï¼Œå¦‚æœè¿™å°ç”µè„‘ä¸Šçš„å·¥ä½œè¿˜éœ€è¦pushåˆ°å…¶ä»–æœåŠ¡å™¨ï¼Œé‚£ä¹ˆåœ¨å…·ä½“çš„æœ¬åœ°åº“ç›®å½•ä¸‹ï¼ŒæŠŠç”¨æˆ·åå’Œé‚®ä»¶åœ°å€é…ç½®æˆä¸ç‰¹å®šæœåŠ¡å™¨ç›¸åŒå³å¯ã€‚\n\nç»è¿‡ä¸Šé¢çš„æ“ä½œï¼Œæˆ‘ä»¬å¯ä»¥æ„‰å¿«åœ°åœ¨ä¸åŒçš„ç”µè„‘ä¸Šç”¨ç›¸åŒçš„è´¦æˆ·è®¿é—®åŒä¸€ä¸ªä»£ç åº“ï¼ŒåŒæ—¶ä¸å½±å“ç”µè„‘å…¶ä»–çš„å·¥ä½œï¼Œå¹¶ä¸”èƒ½å¤Ÿæ›´åŠ æ¸…æ™°åœ°åˆ†è¾¨æ¯ä¸ªSSHå¯†é’¥çš„ç”¨é€”ã€‚\n\n---\n**éå¸¸æ„Ÿè°¢ä½ çš„é˜…è¯»ï¼Œè¾›è‹¦äº†ï¼**\n\n---\nå‚è€ƒæ–‡ç« ï¼š (æ„Ÿè°¢ä»¥ä¸‹èµ„æ–™æä¾›çš„å¸®åŠ©)\n- [Gitæ•™ç¨‹ - å»–é›ªå³°çš„å®˜æ–¹ç½‘ç«™](https://www.liaoxuefeng.com/wiki/896043488029600)\n- [ssh-keygenå‘½ä»¤è¯¦è§£](https://blog.csdn.net/qq_40932679/article/details/117487540)\n- [å¯¹Gitç”¨æˆ·åä¸Githubè´¦æˆ·å…³ç³»çš„ç†è§£](https://blog.csdn.net/belongtocode/article/details/100716812)\n","tags":["Git","SSH"],"categories":["ç»éªŒåˆ†äº«"]},{"title":"Javaå‡½æ•°å¼ç¼–ç¨‹å­¦ä¹ ç¬”è®°ï¼ˆä¸€ï¼‰","url":"/posts/a798ff4a2a23.html","content":"# å‰è¨€\næœ€è¿‘åœ¨é¡¹ç›®ä¸­éœ€è¦ä½¿ç”¨ä¸€äº›åŸºäºMyBatis-Pluså°è£…çš„CRUDæ¥å£ï¼Œé˜…è¯»ä¸€äº›æ–‡æ¡£å’Œä»£ç åå‘ç°åœ¨Javaä»£ç ä¸­å¶å°”ä¼šè§åˆ°C++ä»£ç é‡Œçš„**ç±»ä½œç”¨åŸŸç¬¦å·**`::`å’Œ`->`**è¿ç®—ç¬¦**ï¼ŒæŸ¥é˜…èµ„æ–™æ‰äº†è§£åˆ°è¿™ä¸¤ä¸ªç¬¦å·åœ¨Javaé¢†åŸŸé‡Œå±äºå‡½æ•°å¼ç¼–ç¨‹çš„è¯­æ³•å†…å®¹ï¼Œäºæ˜¯å†™ä¸‹è¿™ç¯‡åšå®¢ä»¥è®°å½•è¿™æ®µæ—¶é—´çš„å­¦ä¹ è¿‡ç¨‹ã€‚\n\n# Javaå‡½æ•°å¼ç¼–ç¨‹\n## ä»€ä¹ˆæ˜¯å‡½æ•°å¼ç¼–ç¨‹ï¼Ÿ\nå‡½æ•°å¼ç¼–ç¨‹æ˜¯ä¸€ç§**æŠ½è±¡ç¨‹åº¦å¾ˆé«˜**çš„ç¼–ç¨‹èŒƒå¼ï¼Œçº¯ç²¹çš„å‡½æ•°å¼ç¼–ç¨‹è¯­è¨€ç¼–å†™çš„å‡½æ•°æ²¡æœ‰å˜é‡ï¼Œå› æ­¤ï¼Œä»»æ„ä¸€ä¸ªå‡½æ•°ï¼Œåªè¦è¾“å…¥æ˜¯ç¡®å®šçš„ï¼Œè¾“å‡ºå°±æ˜¯ç¡®å®šçš„ï¼Œè¿™ç§å‡½æ•°æˆ‘ä»¬ç§°ä¸º**æ²¡æœ‰å‰¯ä½œç”¨çš„å‡½æ•°**ã€‚è€Œå…è®¸ä½¿ç”¨å˜é‡çš„ç¨‹åºè®¾è®¡è¯­è¨€ï¼Œç”±äºå‡½æ•°å†…éƒ¨çš„å˜é‡çŠ¶æ€ä¸ç¡®å®šï¼ŒåŒæ ·çš„è¾“å…¥ï¼Œå¯èƒ½å¾—åˆ°ä¸åŒçš„è¾“å‡ºï¼Œå› æ­¤ï¼Œè¿™ç§å‡½æ•°æ˜¯**æœ‰å‰¯ä½œç”¨çš„**ã€‚\n\nå‡½æ•°å¼ç¼–ç¨‹çš„ä¸€ä¸ªç‰¹ç‚¹å°±æ˜¯ï¼Œå…è®¸æŠŠ**å‡½æ•°æœ¬èº«**ä½œä¸ºå‚æ•°ä¼ å…¥å¦ä¸€ä¸ªå‡½æ•°ï¼Œè¿˜å…è®¸è¿”å›ä¸€ä¸ªå‡½æ•°ã€‚å‡½æ•°å¼ç¼–ç¨‹æ˜¯æŠŠå‡½æ•°ä½œä¸º**åŸºæœ¬è¿ç®—å•å…ƒ**ï¼Œå‡½æ•°å¯ä»¥ä½œä¸ºå˜é‡ï¼Œå¯ä»¥æ¥æ”¶å‡½æ•°ï¼Œè¿˜å¯ä»¥è¿”å›å‡½æ•°ã€‚\n\nå†å²ä¸Šç ”ç©¶å‡½æ•°å¼ç¼–ç¨‹çš„ç†è®ºæ˜¯**Lambdaæ¼”ç®—**ï¼Œæ‰€ä»¥æˆ‘ä»¬ç»å¸¸æŠŠæ”¯æŒå‡½æ•°å¼ç¼–ç¨‹çš„ç¼–ç é£æ ¼ç§°ä¸º**Lambdaè¡¨è¾¾å¼**ã€‚\n\n## Lambdaè¡¨è¾¾å¼\nLambdaè¡¨è¾¾å¼æ˜¯è¡¨ç¤ºå¯ä¼ é€’**åŒ¿åå‡½æ•°**çš„ä¸€ç§ç®€æ´æ–¹å¼ï¼ŒLambdaè¡¨è¾¾å¼æ²¡æœ‰åç§°ï¼Œä½†æ˜¯æœ‰å‚æ•°åˆ—è¡¨ã€å‡½æ•°ä¸»ä½“ã€è¿”å›ç±»å‹ï¼Œè¿˜å¯èƒ½æœ‰ä¸€ä¸ªå¯ä»¥æŠ›å‡ºçš„å¼‚å¸¸åˆ—è¡¨ã€‚å®ƒæ˜¯Java 8æ–°å¢çš„ç‰¹æ€§ï¼Œæœ‰äº†å®ƒï¼Œæˆ‘ä»¬å†ä¹Ÿä¸ç”¨åƒä»¥å‰é‚£æ ·å†™ä¸€å †ç¬¨é‡çš„åŒ¿åç±»ä»£ç äº†ã€‚\n\nåœ¨Javaä¸­ï¼Œæˆ‘ä»¬ç»å¸¸é‡åˆ°**å•æ–¹æ³•æ¥å£**ï¼Œå³***ä¸€ä¸ªæ¥å£***åªå®šä¹‰äº†***ä¸€ä¸ªæ–¹æ³•***ï¼Œä¾‹å¦‚ï¼š\n\n> - Comparator\n>\n> - Runnable\n>\n> - Callable\n\nå¯¹äºå•æ–¹æ³•æ¥å£ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸º`FunctionalInterface`ï¼Œç”¨**æ³¨è§£**`@FunctionalInterface`æ ‡è®°ã€‚ä»¥`Comparator`ä¸ºä¾‹ï¼Œæˆ‘ä»¬æƒ³è¦è°ƒç”¨`Arrays.sort()`æ—¶ï¼Œå¯ä»¥ä¼ å…¥ä¸€ä¸ª`Comparator`å®ä¾‹ï¼Œä»¥åŒ¿åç±»æ–¹å¼ç¼–å†™å¦‚ä¸‹ï¼š\n\n```java\nArrays.sort(array, new Comparator<String>() {\nã€€ã€€public int compare(String s1, String s2) {\nã€€ã€€    return s1.compareTo(s2);\nã€€ã€€}\n});\n```\n\nä¸Šè¿°å†™æ³•éå¸¸ç¹çã€‚ä»Java 8å¼€å§‹ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨Lambdaè¡¨è¾¾å¼æ›¿æ¢å•æ–¹æ³•æ¥å£ã€‚æ”¹å†™ä¸Šè¿°ä»£ç å¦‚ä¸‹ï¼š\n\n```java\nArrays.sort(array, (s1, s2) -> {\nã€€ã€€return s1.compareTo(s2);\n});\n```\n\nè§‚å¯ŸLambdaè¡¨è¾¾å¼çš„å†™æ³•ï¼Œå®ƒåªéœ€è¦å†™å‡º**æ–¹æ³•å®šä¹‰**ï¼š\n\n```java\n(s1, s2) -> {\nã€€ã€€return s1.compareTo(s2);\n}\n```\n\nå…¶ä¸­ï¼Œå‚æ•°æ˜¯`(s1, s2)`ï¼Œå‚æ•°ç±»å‹å¯ä»¥çœç•¥ï¼Œå› ä¸ºç¼–è¯‘å™¨å¯ä»¥**è‡ªåŠ¨æ¨æ–­å‡º`String`ç±»å‹**ã€‚`-> { ... }`è¡¨ç¤ºæ–¹æ³•ä½“ï¼Œæ‰€æœ‰ä»£ç å†™åœ¨å†…éƒ¨å³å¯ã€‚Lambdaè¡¨è¾¾å¼æ²¡æœ‰`class`å®šä¹‰ï¼Œå› æ­¤å†™æ³•éå¸¸ç®€æ´ã€‚\n\nå¦‚æœåªæœ‰ä¸€è¡Œ`return ...`çš„ä»£ç ï¼Œå¯ä»¥ç”¨æ›´ç®€å•çš„å†™æ³•ï¼Œå³**çœç•¥æ–¹æ³•ä½“çš„æ‹¬å·**ï¼š\n\n```java\nArrays.sort(array, (s1, s2) -> s1.compareTo(s2));\n```\n\n## æ–¹æ³•å¼•ç”¨\næ–¹æ³•å¼•ç”¨æ˜¯Java8ä¸­å¼•å…¥çš„æ–°ç‰¹æ€§ï¼Œå®ƒæä¾›äº†ä¸€ç§**å¼•ç”¨æ–¹æ³•è€Œä¸æ‰§è¡Œæ–¹æ³•**çš„æ–¹å¼ï¼Œå¯ä»¥è®©æˆ‘ä»¬é‡å¤ä½¿ç”¨ç°ç”¨æ–¹æ³•çš„å®šä¹‰ï¼Œä½œä¸ºæŸäº›Lambdaè¡¨è¾¾å¼çš„å¦ä¸€ç§æ›´ç®€æ´çš„å†™æ³•ã€‚\n\nå½“ä½ éœ€è¦æ–¹æ³•å¼•ç”¨æ—¶ï¼Œå°†ç›®æ ‡å¼•ç”¨æ”¾åœ¨**åˆ†éš”ç¬¦**`::`å‰ï¼Œæ–¹æ³•çš„åç§°æ”¾åœ¨**åˆ†éš”ç¬¦**`::`åã€‚æ–¹æ³•åç§°å**ä¸éœ€è¦åŠ æ‹¬å·**ï¼Œå› ä¸ºæˆ‘ä»¬å¹¶æ²¡æœ‰å®é™…è°ƒç”¨å®ƒã€‚æ–¹æ³•å¼•ç”¨æé«˜äº†ä»£ç çš„å¯è¯»æ€§ï¼Œä¹Ÿä½¿é€»è¾‘æ›´åŠ æ¸…æ™°ã€‚\n\nå¯ä»¥æ„å»ºæ–¹æ³•å¼•ç”¨çš„åœºæ™¯æœ‰å››ç§ï¼š\n\n### é™æ€æ–¹æ³•\næŒ‡å‘**é™æ€æ–¹æ³•**çš„å¼•ç”¨ï¼Œè¯­æ³•ï¼š`ç±»å::é™æ€æ–¹æ³•å`ï¼Œç±»åæ”¾åœ¨**åˆ†éš”ç¬¦**`::`å‰ï¼Œé™æ€æ–¹æ³•åæ”¾åœ¨**åˆ†éš”ç¬¦**`::`åã€‚ä¾‹å¦‚ï¼š\n\n```java\n(String str) -> Integer.parseInt(str)\n```\n\nä½¿ç”¨æ–¹æ³•å¼•ç”¨ä»¥åï¼Œå¯ä»¥ç®€å†™ä¸ºï¼š\n\n```java\nInteger::parseInt\n```\n\n### å†…éƒ¨å¯¹è±¡çš„å®ä¾‹æ–¹æ³•\næŒ‡å‘Lambdaè¡¨è¾¾å¼**å†…éƒ¨å¯¹è±¡**çš„å®ä¾‹æ–¹æ³•çš„å¼•ç”¨ï¼Œè¯­æ³•ï¼š`ç±»å::å®ä¾‹æ–¹æ³•å`ï¼Œç±»åæ”¾åœ¨**åˆ†éš”ç¬¦**`::`å‰ï¼Œå®ä¾‹æ–¹æ³•åæ”¾åœ¨**åˆ†éš”ç¬¦**`::`åã€‚ä¾‹å¦‚ï¼š\n\n```java\n(Equipment equipment) -> equipment.getBrand()\n```\n\nä½¿ç”¨æ–¹æ³•å¼•ç”¨ä»¥åï¼Œå¯ä»¥ç®€å†™ä¸ºï¼š\n\n```java\nEquipment::getBrand\n```\n\n### å¤–éƒ¨å¯¹è±¡çš„å®ä¾‹æ–¹æ³•\næŒ‡å‘Lambdaè¡¨è¾¾å¼**å¤–éƒ¨å¯¹è±¡**çš„å®ä¾‹æ–¹æ³•çš„å¼•ç”¨ï¼Œè¯­æ³•ï¼š`å®ä¾‹å::å®ä¾‹æ–¹æ³•å`ï¼Œç±»åæ”¾åœ¨**åˆ†éš”ç¬¦**`::`å‰ï¼Œå®ä¾‹æ–¹æ³•åæ”¾åœ¨**åˆ†éš”ç¬¦**`::`åã€‚ä¾‹å¦‚ï¼š\n\n```java\nString type = \"STR\";\nPredicate<String> predicate = (String str) -> type.equals(str);\nSystem.out.println(predicate.test(\"STR\"));\n```\n\nå…¶ä¸­ï¼Œ`type`æ˜¯ä¸€ä¸ªLambdaè¡¨è¾¾å¼å¤–éƒ¨çš„å±€éƒ¨å˜é‡ï¼Œä½¿ç”¨æ–¹æ³•å¼•ç”¨ä»¥åï¼Œå¯ä»¥ç®€å†™ä¸ºï¼š\n\n```java\nString type = \"STR\";\nPredicate<String> predicate = type::equals;\nSystem.out.println(predicate.test(\"STR\"));\n```\n\n### æ„é€ æ–¹æ³•\næŒ‡å‘**æ„é€ æ–¹æ³•**çš„å¼•ç”¨ï¼Œè¯­æ³•ï¼š`ç±»å::new`ï¼Œç±»åæ”¾åœ¨**åˆ†éš”ç¬¦**`::`å‰ï¼Œnewæ”¾åœ¨**åˆ†éš”ç¬¦**`::`åã€‚ä¾‹å¦‚ï¼š\n\n```java\n(String brand, String type) -> new Equipment(brand, type)\n```\n\nä½¿ç”¨æ–¹æ³•å¼•ç”¨ä»¥åï¼Œå¯ä»¥ç®€å†™ä¸ºï¼š\n\n```java\nEquipment::new\n```\n\n# åº”ç”¨\n## èƒŒæ™¯\nåœ¨ä¸€ä¸ªæ•°æ®åº“è¡¨ä¸­ï¼Œå­˜åœ¨**ä¸€å¯¹å¤š**çš„E-Rå…³ç³»ï¼Œå¯¹çˆ¶è¡¨æ–°å¢ä¸€æ¡æ•°æ®æ—¶ï¼Œå­è¡¨çš„è‹¥å¹²æ¡æ•°æ®éœ€è¦å…³è”çˆ¶è¡¨çš„è¿™è¡Œæ•°æ®ï¼›è¿›ä¸€æ­¥åœ°ï¼Œéœ€è¦åœ¨å¯¹çˆ¶è¡¨åˆ é™¤ä¸€è¡Œæ•°æ®æ—¶ï¼Œä¸å…¶å…³è”çš„è‹¥å¹²æ¡è¦è¢«**åŒæ­¥åˆ é™¤**ï¼Œä»¥ä¿è¯æ•°æ®ä¹‹é—´çš„çº¦æŸã€‚\n\n## æ€è·¯\né¦–å…ˆåˆ†æçˆ¶è¡¨ä¸å­è¡¨çš„å…³è”å…³ç³»ï¼Œæ‰¾å‡ºå­è¡¨æ˜¯ä¸çˆ¶è¡¨çš„å“ªä¸€ä¸ªå­—æ®µå…³è”çš„ï¼Œè¿™æ ·å³å¯æ ¹æ®çˆ¶è¡¨çš„å­—æ®µæ‰¾åˆ°å­è¡¨çš„æ•°æ®ï¼Œéšåå³å¯åˆ é™¤å­è¡¨çš„æ•°æ®ã€‚åœ¨ç¼–å†™ä¸šåŠ¡é€»è¾‘æ—¶éœ€æ³¨æ„ï¼šå…ˆåˆ é™¤å­è¡¨æ•°æ®ï¼Œååˆ é™¤çˆ¶è¡¨æ•°æ®ã€‚\n\n## åº”ç”¨åœºæ™¯\nä½¿ç”¨å…¶ä»–ä¸šåŠ¡æ–¹æ³•å¾—åˆ°ä¸€ä¸ªç”±å­è¡¨æ•°æ®ç»„æˆçš„å®ä½“æ•°ç»„æ—¶ï¼Œéœ€è¦æ ¹æ®æ¯ä¸ªå®ä½“çš„`id`è¿›è¡Œåˆ é™¤ã€‚ä¼ ç»Ÿçš„å†™æ³•æ˜¯ä½¿ç”¨`for`å¾ªç¯éå†è¿™ä¸ªæ•°ç»„ï¼Œåœ¨å¾ªç¯ä½“ä¸­å†™ä¸€è¡Œsqlè¯­å¥åˆ é™¤é€è¡Œæ•°æ®ï¼Œè¿™ç§å†™æ³•éœ€è¦åˆ›å»ºå¤šä¸ªä¸´æ—¶å˜é‡å‚¨å­˜ä¸´æ—¶æ•°æ®ï¼Œè¾ƒä¸ºç¹çï¼Œä¹Ÿæ˜¾å¾—ä»£ç å—è¾ƒä¸ºè‡ƒè‚¿ã€‚åˆ©ç”¨Javaå‡½æ•°å¼ç¼–ç¨‹çš„æ–°ç‰¹æ€§å³å¯ç®€åŒ–ä»£ç ã€‚\n\n## è§£å†³æ–¹æ¡ˆ\nåˆ›å»º`Stream`å‚¨å­˜è¯¥å®ä½“æ•°ç»„è¿›è¡Œæµå¼å¤„ç†ï¼Œä»£æ›¿`for`å¾ªç¯ï¼Œä½¿ç”¨`map`å°†æ•°ç»„ä¸­çš„æ¯ä¸ªå®ä½“è½¬æ¢ä¸ºå®ä½“å¯¹åº”çš„`id`ã€‚`map`æ–¹æ³•åˆå¯æ¥æ”¶`Function`æ¥å£å¯¹è±¡çš„æ–¹æ³•å¼•ç”¨ï¼Œæ— éœ€åˆ›å»ºå®ä¾‹å³å¯å¼•ç”¨æ–¹æ³•ï¼Œè¿›ä¸€æ­¥å‡å°‘äº†ä»£ç é‡ã€‚\n\n## å®ä¾‹\nå‡è®¾å·²å¾—åˆ°ä¸€ä¸ªå®ä½“æ•°ç»„ï¼š\n```java\nList<EmissionCalcParamDTO> emissionCalcParams\n```\n\nç°è°ƒç”¨ä¸€ä¸ªå…¥å‚ä¸ºæ•°ç»„çš„`deleteBatchIds()`æ–¹æ³•ï¼Œå®ƒæ˜¯MyBatis-Plusæä¾›çš„æ¥å£ï¼Œç”¨äºåˆ é™¤å¤šè¡Œæ•°æ®ã€‚è°ƒç”¨å‰éœ€å…ˆåˆ¤æ–­æ•°ç»„æ˜¯å¦ä¸ºç©ºï¼Œå†™æ³•å¦‚ä¸‹ï¼š\n\n```java\nif (CollectionUtils.isNotEmpty(emissionCalcParams)) {\n    emissionSourceCalcParamMapper.deleteBatchIds(emissionCalcParams.stream()\n        .map(EmissionCalcParamDTO::getId)\n        .collect(Collectors.toList()));\n}\n```\n\nä¸Šé¢çš„ä»£ç åœ¨æŠŠå®ä½“è½¬æ¢ä¸º`id`ååˆå°†å…¶ç»„åˆæˆæ•°ç»„ï¼Œä½œä¸º`deleteBatchIds()`çš„å…¥å‚ï¼Œå¯ä»¥è¯´ç”¨ä¸€è¡Œä»£ç è§£å†³äº†ä¼ ç»Ÿå†™æ³•åå‡ è¡Œçš„å·¥ä½œé‡ã€‚\n> æ³¨æ„ï¼Œä¸Šè¿°ç¼–ç è¿‡ç¨‹ä¸­è¿˜ä½¿ç”¨åˆ°äº†`Stream`æµå’Œ`map`æ–¹æ³•ï¼Œå¹¶ä½¿ç”¨`MyBatis-Plus`ç®€åŒ–æ•°æ®åº“æ“ä½œï¼Œä¸Šè¿°ä»£ç åŸºäº`Spring Boot`æ¡†æ¶è¿›è¡Œç¼–å†™ã€‚å¯¹äºä¸Šè¿°ä½¿ç”¨åˆ°çš„æŠ€æœ¯ï¼Œæˆ‘å°†åœ¨åé¢çš„æ–‡ç« ä¸­è¯¦ç»†ä»‹ç»ã€‚\n\n---\n**éå¸¸æ„Ÿè°¢ä½ çš„é˜…è¯»ï¼Œè¾›è‹¦äº†ï¼**\n\n---\nå‚è€ƒæ–‡ç« ï¼š (æ„Ÿè°¢ä»¥ä¸‹èµ„æ–™æä¾›çš„å¸®åŠ©)\n- [å‡½æ•°å¼ç¼–ç¨‹ - å»–é›ªå³°çš„å®˜æ–¹ç½‘ç«™](https://www.liaoxuefeng.com/wiki/1252599548343744/1255943847278976)\n","tags":["åç«¯","Java","Lambda"],"categories":["å­¦ä¹ ç¬”è®°"]},{"title":"helloworld","url":"/posts/bce9a85f8d8c.html","content":"# ä½ å¥½ï¼\nè¿™æ˜¯æˆ‘çš„ç¬¬ä¸€ç¯‡åšå®¢ã€‚\n# Hello!\nThis is my first blog.","categories":["æ‚è°ˆ"]}]